{"version":3,"sources":["pictures/defaultAvatar.jpg","components/logo/logo.tsx","hooks/useOutsideClick.tsx","components/modalWindow/modalWindow.tsx","components/textInput/textInput.tsx","api/testAPI.ts","redux/reducers/mainState/mainState.tsx","redux/reducers/authorizationState/authorizationState.tsx","redux/reducers/authorizationState/authorizationStateActionCreators.tsx","components/searchBox/select/selectItem/selectItem.tsx","components/searchBox/select/select.tsx","redux/reducers/searchBoxState/searchBoxState.tsx","redux/reducers/searchBoxState/searchBoxStateActionCreators.tsx","redux/reducers/feedState/feedState.tsx","redux/reducers/feedState/feedStateActionCreators.tsx","redux/reducers/settingsState/settingsState.tsx","redux/reducers/settingsState/settingsStateActionCreators.tsx","redux/reducers/announcementState/announcementState.tsx","redux/reducers/announcementState/announcementStateActionCreators.tsx","redux/reducers/myAnnouncementState/myAnnouncementState.tsx","redux/reducers/myAnnouncementState/myAnnouncementStateActionCreators.tsx","redux/reducers/announcementsListState/announcementsListState.tsx","redux/reducers/announcementsListState/announcementsListStateActionCreators.tsx","redux/reducers/mainState/mainStateActionCreators.tsx","redux/thunks/thunks.tsx","redux/reducers/authorizationState/authorizationStateSelectors.tsx","redux/reducers/mainState/mainStateSelectors.tsx","components/button/button.tsx","redux/reducers/formState/formState.ts","redux/reducers/formState/formStateActionCreators.tsx","redux/reducers/formState/formStateSelectors.tsx","components/modalWindow/authorizationModalWindow/authorizationPopupBox.tsx","components/modalWindow/authorizationModalWindow/authorizationModalWindow.tsx","components/modalWindow/alertModalWindow/alertPopupBox.tsx","components/modalWindow/alertModalWindow/alertModalWindow.tsx","redux/reducers/settingsState/settingsStateSelectors.tsx","components/header/header.tsx","redux/reducers/searchBoxState/searchBoxStateSelectors.tsx","components/searchBox/searchBox.tsx","redux/reducers/feedState/feedStateSelectors.tsx","components/image/image.tsx","components/announcement/announcement.tsx","components/footer/footer.tsx","pages/feedPage/feedPage.tsx","pages/contactsPage/contactsPage.tsx","hocs/withAuthRedirectHoc.tsx","components/imagePicker/imagePicker.tsx","pages/settingsPage/settingsPage.tsx","redux/reducers/announcementState/announcementStateSelectors.tsx","components/slider/slider.tsx","pages/announcementPage/announcementPage.tsx","redux/reducers/myAnnouncementState/myAnnouncementStateSelectors.tsx","hooks/useInfinityScroll.tsx","pages/myAnnouncementsPage/myAnnouncementsPage.tsx","pages/createAnnouncement/createAnnouncement.tsx","redux/reducers/announcementsListState/announcementsListStateSelectors.tsx","components/preloader/preloader.tsx","components/buttonUp/buttonUp.tsx","pages/announcementsListPage/announcementsListPage.tsx","app/App.tsx","redux/store.tsx","index.tsx"],"names":["module","exports","Logo","props","to","className","useOutsideClick","ref","handler","listener","event","popupBox","current","path","composed","composedPath","includes","useEffect","document","addEventListener","removeEventListener","ModalWindow","isActiveFromProps","modal","withOpenBtn","children","alertCloseHandler","useRef","useState","isActive","setIsActive","closeModalWindow","withAlertClose","React","cloneElement","onClick","TextInput","placeholder","value","key","onBlurHandler","onChangeHandler","inputType","label","isValid","style","resize","rows","onChange","onBlur","type","testAPI","baseUrl","postAuthorizationData","data","console","log","fetch","postRegistrationData","getLastAnnouncements","getUserInfo","getSubwayStations","getAnnouncementsByFilters","page","name","category","subway","getAnnouncementsList","getAnnouncementByCategoryAndId","id","getMyAnnouncements","postDeleteAnnouncement","postSettingsByField","field","postSettingsAvatar","postSettingsName","postSettingsPhone","postSettingsLogin","postLogout","postDelete","postNewAnnouncement","getItemFromLocalStorage","feild","localStorage","getItem","setItemToLocalStorage","setItem","clearLocalStorage","clear","initialState","isFetching","subwayStationsData","categoriesData","mainStateReducer","state","action","payload","isRegistration","isCorrectAuthData","isAuth","authorizationStateReducer","setIsCorrectAuthDataAC","SelectItem","initialStateSubway","initialStateCategory","Select","selectItems","placeHolder","onChangeHandlerSelectItem","toggleIsActive","boolean","prevIsActive","readOnly","map","selectItem","searchedData","currentPage","totalNumOfPages","searchConfig","categoryId","subwayStations","searchValue","searchBoxStateReducer","withConcat","newSearchedData","concat","newCurrentPage","setSearchedDataAC","setIsFetchingSearchReducerAC","setTotalNumOfPageSearchReducerAC","lastAnnouncements","descriptionSalamRu","feedStateReducer","setIsFetchingFeedReducerAC","avatar","defaultAvatar","phone","login","password","settingsStateReducer","setSettingsInLocalStorageByFieldAC","announcement","announcementStateReducer","settIsFetchingAnnouncementReducerAC","myAnnouncements","myAnnouncementsStateReducer","newMyAnnouncementsSet","newMyAnnouncementsDel","filter","setMyAnnouncementsAC","settIsFetchingMyAnnouncementsReducerAC","setTotalNumOfPageMyAnnouncementReducerAC","announcementsList","announcementsListStateReducer","setAnnouncementsListAC","setTotalNumOfPageAnnouncementsListReducerAC","setIsFetchingMainStateAC","getAnnouncementsByFiltersThunk","dispatch","getState","searchBoxState","then","response","status","json","announcements","catch","err","error","postLogoutOrDeleteUser","logoutOrDelete","result","push","PATH_FEED","getMyAnnouncementsThunk","myAnnouncementsState","getAnnouncementsListThunk","announcementsListState","getUserInfoThunk","restUserData","Object","entries","forEach","getIsRegistrationSelector","authorizationState","getIsAuthSelector","getIsCorrectAuthDataSelector","getIsFetchingMainStateSelector","mainState","getSubwayStationsDataSelector","getCategoriesDataSelector","Button","isDisabled","onClickHandler","defaultInitialStateForFormField","authorization","isReadyToSend","registration","phoneNumber","createAnnouncement","photos","price","description","settings","checkIsValid","length","JSON","stringify","prepareFormStateByPageForSend","restFormState","stateEntries","defaultCondition","postData","condition","reduce","formStateReducer","stateByPage","stateByField","stateKeys","keys","newState","seValueFormReducerAC","setIsValidFormReducerAC","checkIsReadyToSendByPageFormReducerAC","resetToInitialByPageFormReducerAC","getFieldsByPageFormReducerSelector","formState","AuthorizationPopupBox","useSelector","authFormState","regFormState","currentFormState","useDispatch","sendAuthorizationOrRegistration","useCallback","sendAuthorizationOrRegistrationThunk","setIsRegistration","seValueFormReducer","setIsCorrectAuthData","setIsValidFormReducer","resetToInitialByPageFormReducer","checkIsReadyToSend","getInputsConfig","currentTarget","AuthorizationModalWindow","openModalWindow","AlertPopupBox","alertText","btnOneLabel","btnOneConfiguration","btnTwoConfiguration","btnTwoHandler","btnTwoLabel","AlertModalWindow","openBtnElement","btnOneHandler","getSettingsFieldValueByFieldSelector","settingsState","Header","logoutUser","isActiveAuthModal","setIsActiveAuthModal","isActiveAuthMenu","setIsActiveAuthMenu","isActiveLogoutAlert","setIsActiveLogoutAlert","toggleIsActiveAuthMenu","prevState","linkConfigs","PATH_HOUSING","PATH_JOB","alertCreateAnnouncement","alertLogout","linkToCreateAnnouncement","activeClassName","PATH_CREATE_ANNOUNCEMENT","authMenu","PATH_MY_ANNOUNCEMENTS","PATH_SETTINGS","getSearchedDataSelector","getSearchConfigCategorySelector","getSearchConfigSubwayStationsSelector","getSearchConfigSearchValueSelector","getIsFetchingSearchReducerSelector","getCurrentPageSearchReducerSelector","getTotalNumOfPageSearchReducerSelector","SearchBox","history","useHistory","searchConfigCategory","searchConfigSubwayStation","searchConfigSearchValue","resetToInitialStateSearchReducer","setSearchConfigCategory","setSearchConfigSubwayStation","station","setSearchConfigSearchValue","setSearchConfigSearchValueAC","setSearchValue","selectItemOnChangeHandler","setIsActiveSelect","target","getLastAnnouncementsSelector","feedState","getIsFetchingFeedReducerSelector","getDescriptionSalamRuSelector","Image","photo","backgroundImage","Announcement","creationDate","subwayStation","Footer","FeedPage","lastAnnouncement","ContactsPage","withAuthRedirectHoc","Component","ImagePicker","onLoadHandler","file","files","Date","now","reader","FileReader","onload","readAsDataURL","settingsStateEntries","postSettingByField","values","postSettingByFieldThunk","deleteUser","image","imageName","restConfig","valueFromSettingsState","getAnnouncementSelector","announcementState","getIsFetchingAnnouncementReducerSelector","currentSlide","setCurrentSlide","changeSlide","nextOrPrev","transformStyle","transform","child","AnnouncementPage","contacts","user","getAnnouncementByCategoryAndIdThunk","useParams","goBack","getMyAnnouncementsSelector","getIsFetchingMyAnnouncementsReducerSelector","getCurrentPageMyAnnouncementsReducerSelector","getTotalNumOfPagesMyAnnouncementsReducerSelector","useInfinityScroll","scrollHandler","Math","ceil","window","innerHeight","scrollY","max","body","scrollHeight","documentElement","offsetHeight","clientHeight","setCurrentPage","delMyAnnouncementByIdAC","postDeleteAnnouncementThunk","restMyAnnouncement","scrollTo","phoneRedux","postNewAnnouncementThunk","getErrorClassName","height","newPhotosValue","deleteLoadedImage","getAnnouncementsListSelector","getCurrentPageAnnouncementsListReducerSelector","getTotalNumOfPagesAnnouncementsListReducerSelector","memo","ButtonUp","isView","setIsView","onScrollHandler","currentHeight","AnnouncementsListPage","location","pathname","substr","isFetchingSearchState","isEqualsCurrAndTotalPageSearch","isSearchState","isFetchingMainState","isEqualsCurrAndTotalPage","getAnnouncements","setCurrentPageSearchBox","resetToInitialStateAnnouncementsList","App","getUserData","exact","component","CreateAnnouncement","MyAnnouncementsPage","SettingsPage","createBrowserHistory","store","createStore","combineReducers","router","connectRouter","applyMiddleware","routerMiddleware","thunkMiddleWare","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3dd5e765.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/defaultAvatar.d73128e4.jpg\";","import React from 'react';\nimport \"./logoStyles.css\"\nimport { NavLink } from 'react-router-dom';\n\nconst Logo = (props: any) => {\n\n  return (\n      <NavLink to={\"/feed\"}>\n          <div className=\"logo navbar-brand mb-0 h1\">\n              SALAM\n          </div>\n      </NavLink>\n\n  );\n}\n\nexport default Logo;\n","import React, {useEffect} from 'react';\n\nconst useOutsideClick = (ref: any, handler: any) => {\n\n    const listener = (event: any) => {\n        const popupBox = ref.current\n        const target = event.path || ( event.composed && event.composedPath() )\n        !target.includes(popupBox) && handler(event);\n    }\n\n  useEffect(() => {\n        document.addEventListener('click', listener)\n        return () => document.removeEventListener('click', listener)\n      }, [ref, handler]\n  );\n}\n\nexport default useOutsideClick;\n","import React, {ReactElement, Ref, useEffect, useRef, useState} from 'react';\nimport \"./modalWindowStyles.css\"\nimport useOutsideClick from '../../hooks/useOutsideClick';\n\ntype propsTypes = {\n    alertCloseHandler?: Function\n    isActiveFromProps?: boolean\n    children?: any\n    withOpenBtn?: boolean\n    modal: ReactElement\n}\n\nconst ModalWindow = (props: propsTypes) => {\n\n    const {isActiveFromProps, modal, withOpenBtn = false, children, alertCloseHandler = () => null} = props\n    const ref: Ref<any> = useRef(null)\n\n    const [isActive, setIsActive] = useState(false)\n\n    useEffect(() => {\n      isActiveFromProps && setIsActive(true)\n    }, [isActiveFromProps])\n\n    const outsideClickHandler = () => {\n      isActive && closeModalWindow()\n    }\n    const closeModalWindow = (withAlertClose = true) => {\n        setIsActive(false)\n        withAlertClose && alertCloseHandler()\n    }\n\n    useOutsideClick(ref, outsideClickHandler)\n\n    return (\n\n        <>\n            <div className={`modalWindow ${isActive && \"modalWindow__active\"} `}>\n                <div ref={ref} className=\"modalWindow__popupBox\">\n                    {React.cloneElement(modal, {closeModalWindow})}\n                    <span onClick={() => closeModalWindow()} className={\"popup__close\"}>&times;</span>\n                </div>\n            </div>\n            { withOpenBtn && children(() => setIsActive(true)) }\n        </>\n    );\n}\n\nexport default ModalWindow;\n","import React from 'react';\r\nimport \"./textInputStyles.css\"\r\n\r\ntype propsTypes = {\r\n  placeholder?:string\r\n  inputType?: string\r\n  value: string\r\n  key?: number | string\r\n  onBlurHandler: Function\r\n  onChangeHandler: Function\r\n  isValid?: boolean\r\n  className?: string\r\n  label?: string\r\n}\r\n\r\nconst TextInput = (props: propsTypes) => {\r\n\r\n  const {\r\n    className,\r\n    placeholder,\r\n    value, key,\r\n    onBlurHandler,\r\n    onChangeHandler,\r\n    inputType = \"text\",\r\n    label = \"\",\r\n    isValid = true} = props\r\n\r\n  return (\r\n        <div className={`textInput ${!isValid ? \"textInput__alert\" : null} ${className}`}>\r\n          <label>{label}</label>\r\n          {inputType === \"textArea\" ?\r\n              <textarea style={{resize: \"none\"}} rows={6} className={\"form-control\"} onChange={(event) => onChangeHandler(event)} placeholder={placeholder}\r\n                        onBlur={(event) => onBlurHandler(event)} value={value}/> :\r\n              <input className={\"form-control\"} key={key} onBlur={(event) => onBlurHandler(event)} value={value} type={inputType} placeholder={placeholder}\r\n                     onChange={(event) => onChangeHandler(event)} />}\r\n        </div>\r\n  );\r\n}\r\n\r\nexport default TextInput;\r\n","// ------AUTHORIZATION-TYPES-----//\r\nimport {SettingsFieldType} from \"../redux/reducers/settingsState/settingsState\";\r\n\r\nexport type AuthorizationData = { login: string,  password: string }\r\nexport type RegistrationData = { name: string,  login: string, password: string }\r\n\r\n// ------CREATE-ANNOUNCEMENT-PAGE---//?\r\nexport type NewAnnouncementData = {\r\n    category: number,\r\n    name: string,\r\n    description: string\r\n    photos?: Array<string>,\r\n    price: number,\r\n    subway: string,\r\n    phone: string\r\n}\r\n\r\n// ------SEARCH-BOX-TYPES-----//\r\nexport type GetAnnouncementsCategoryType = \"announcements\" |  \"housing\" | \"apartment\" | \"bunk\" | \"room\" | \"job\" | \"vacancies\" | string\r\n\r\n// ------SETTINGS-TYPES---//\r\nexport type PostSettingsAvatarData = { avatar: string }\r\nexport type PostSettingsNameData = { name: string }\r\nexport type PostSettingsEmailData = { email: string }\r\nexport type PostSettingsPhoneData = { phone: string }\r\n\r\nexport class testAPI {\r\n\r\n    static baseUrl = '/json/'\r\n\r\n    // ------AUTHORIZATION-----//\r\n    static postAuthorizationData = (data: AuthorizationData): Promise<Response> => {\r\n        console.log(data, \"postAuthorizationData\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postRegistrationData = (data: RegistrationData): Promise<Response> => {\r\n        console.log(data, \"postRegistrationData\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    // ------FEED-PAGE-----//\r\n    //@response  20  \r\n    static getLastAnnouncements = (): Promise<Response> => {\r\n        console.log(\"getLastAnnouncements\")\r\n        const path = `getMyAnnouncements`\r\n        return fetch(`${testAPI.baseUrl}lastAnnouncements.json`)\r\n    }\r\n\r\n    // ------GET-USER-INFO-----//\r\n    static getUserInfo = (): Promise<Response> => {\r\n        console.log(\"getUserInfo\")\r\n        return fetch(`${testAPI.baseUrl}userData.json`)\r\n    }\r\n\r\n    // ------SEARCH-BOX-----//\r\n    static getSubwayStations = (): Promise<Response> => {\r\n        console.log(\"getSubwayStations\")\r\n        return fetch(`${testAPI.baseUrl}subwayStations.json`)\r\n    }\r\n\r\n    static getAnnouncementsByFilters = (page: number, name?: string, category?: string| number, subway?: string | number): Promise<Response> => {\r\n        const path = `getAnnouncementsByFilters?page=${page}&category=${category}&name=${name}&subway=${subway}`\r\n        console.log(page, category, name, subway, \"getAnnouncementsByFilters\", path)\r\n        return fetch(`${testAPI.baseUrl}announcementsByFilter.json`)\r\n    }\r\n\r\n    //---REQUEST-FOR-SEARCH-BOX/FEED-PAGE/HOUSING/JOB/TRADING---//\r\n    static getAnnouncementsList = (page: number, category: GetAnnouncementsCategoryType): Promise<Response> => {\r\n        const path = `getAnnouncementsByCategoryAndName?page=${page}&category=${category}`\r\n        console.log(page, category, \"getAnnouncementsByCategoryAndName\", path)\r\n        return fetch(`${testAPI.baseUrl}announcements.json`)\r\n    }\r\n\r\n    // ------GET-ANNOUNCEMENT-BY-CATEGORY-AND-ID----//\r\n    static getAnnouncementByCategoryAndId = (category: GetAnnouncementsCategoryType, id: number): Promise<Response> => {\r\n        console.log(\"getAnnouncementByCategoryAndId\", category, id)\r\n        const path = `getAnnouncementByCategoryAndId/${category}/${id}`\r\n        return fetch(`${testAPI.baseUrl}announcementById.json`)\r\n    }\r\n\r\n    // ------MY-ANNOUNCEMENTS-PAGE---//\r\n    static getMyAnnouncements = (page: number): Promise<Response> => {\r\n        console.log(\"getMyAnnouncements\")\r\n        const path = `getMyAnnouncements?page=${page}`\r\n        return fetch(`${testAPI.baseUrl}announcements.json`)\r\n    }\r\n\r\n    static postDeleteAnnouncement = (id:number): Promise<Response> => {\r\n        console.log(id, \"postDeleteAnnouncement\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n\r\n    // ------SETTINGS-PAGE---//\r\n\r\n    static postSettingsByField = (data: any, field: SettingsFieldType): Promise<Response> => {\r\n        console.log(data, \"postSettingsByField\")\r\n        switch (field) {\r\n            case \"avatar\": return testAPI.postSettingsAvatar(data)\r\n            case \"name\": return testAPI.postSettingsName(data)\r\n            case \"phone\": return testAPI.postSettingsPhone(data)\r\n            case \"login\": return testAPI.postSettingsLogin(data)\r\n            default: return testAPI.postSettingsAvatar(data)\r\n        }\r\n    }\r\n    static postSettingsAvatar = (data: PostSettingsAvatarData): Promise<Response> => {\r\n        console.log(data, \"postSettingsAvatar\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postSettingsName = (data: PostSettingsNameData): Promise<Response> => {\r\n        console.log(data, \"postSettingsName\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postSettingsLogin = (data: PostSettingsEmailData): Promise<Response> => {\r\n        console.log(data, \"postSettingsLogin\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postSettingsPhone = (data: PostSettingsPhoneData): Promise<Response> => {\r\n        console.log(data, \"postSettingsPhone\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postLogout = (): Promise<Response> => {\r\n        console.log(\"postLogout\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    static postDelete = (): Promise<Response> => {\r\n        console.log(\"postDelete\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n\r\n    // ------CREATE-ANNOUNCEMENT-PAGE---//\r\n    static postNewAnnouncement = (data: NewAnnouncementData): Promise<Response> => {\r\n        console.log(data, \"postNewAnnouncement\")\r\n        return fetch(`${testAPI.baseUrl}responseForPostOrPutRequests.json`)\r\n    }\r\n}","\r\nexport const getItemFromLocalStorage = (feild:string) => localStorage.getItem(feild)\r\nexport const setItemToLocalStorage = (feild:string, value:any) => localStorage.setItem(feild, value)\r\nexport const clearLocalStorage = () => localStorage.clear()\r\n\r\nexport const SET_IS_FETCHING_MAIN_STATE = \"SET_IS_FETCHING_MAIN_STATE\"\r\nexport const SET_SUBWAY_STATIONS_DATA = \"SET_SUBWAY_STATIONS_DATA\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    isFetching: false,\r\n    subwayStationsData: [],\r\n    categoriesData : [\r\n        {id: 1, label: \"\", category: \"housing\"},\r\n        {id: 2, label: \"\", category: \"apartments\"},\r\n        {id: 3, label: \"\", category: \"bunk\"},\r\n        {id: 4, label: \"-\", category: \"room\"},\r\n        {id: 5, label: \"\", category: \"job\"},\r\n        {id: 6, label: \"\", category: \"vacancies\"}\r\n    ]\r\n}\r\n\r\nexport const mainStateReducer = (state = initialState, action : any): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value } = payload || {}\r\n\r\n    switch (type) {\r\n        case SET_IS_FETCHING_MAIN_STATE :\r\n            console.log(\"SET_IS_FETCHING_MAIN_STATE\", value)\r\n            return {...state, isFetching: value}\r\n        case SET_SUBWAY_STATIONS_DATA :\r\n            console.log(\"SET_SUBWAY_STATIONS_DATA\", value)\r\n            return {...state, subwayStationsData: value}\r\n        default: return state\r\n    }\r\n}","import {AuthorizationStateActionTypes} from \"./authorizationStateActionCreators\";\r\nimport {getItemFromLocalStorage, setItemToLocalStorage, clearLocalStorage} from \"../mainState/mainState\";\r\nimport {SET_IS_FETCHING_SETTINGS_REDUCER} from \"../settingsState/settingsState\";\r\n\r\nexport const SET_IS_REGISTRATION = \"SET_IS_REGISTRATION\"\r\nexport const SET_IS_CORRECT_AUTH_DATA = \"SET_IS_CORRECT_AUTH_DATA\"\r\nexport const SET_IS_AUTH = \"SET_IS_AUTH\"\r\nexport const LOGOUT_OR_DELETE_USER = \"LOGOUT_OR_DELETE_USER\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    isRegistration: false,\r\n    isCorrectAuthData: true,\r\n    isAuth: () => getItemFromLocalStorage(\"isAuth\") !== null\r\n}\r\n\r\nexport const authorizationStateReducer = (state = initialState, action : AuthorizationStateActionTypes): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value } = payload || {}\r\n\r\n    switch (type) {\r\n        case SET_IS_REGISTRATION :\r\n            console.log(\"SET_IS_REGISTRATION\", value)\r\n            return {...state, isRegistration: value}\r\n        case SET_IS_CORRECT_AUTH_DATA :\r\n            console.log(\"SET_IS_CORRECT_AUTH_DATA\", value)\r\n            return {...state, isCorrectAuthData: value}\r\n        case SET_IS_AUTH :\r\n            console.log(\"SET_IS_AUTH\", value)\r\n            setItemToLocalStorage(\"isAuth\", value)\r\n            return {...state, isAuth: () => getItemFromLocalStorage(\"isAuth\") !== null}\r\n        case LOGOUT_OR_DELETE_USER:\r\n            console.log(\"LOGOUT_OR_DELETE_USER\")\r\n            clearLocalStorage()\r\n            return state\r\n        default: return state\r\n    }\r\n}","import {LOGOUT_OR_DELETE_USER, SET_IS_AUTH, SET_IS_CORRECT_AUTH_DATA, SET_IS_REGISTRATION} from \"./authorizationState\";\r\n\r\nexport type AuthorizationStateActionTypes  = SetIsRegistrationACType | SetIsAuthACType | SetIsCorrectAuthDataACType\r\n\r\nexport type SetIsRegistrationACType = {\r\n    type: typeof SET_IS_REGISTRATION\r\n    payload : { value: boolean }\r\n}\r\nexport type SetIsAuthACType = {\r\n    type: typeof SET_IS_AUTH | string\r\n    payload : { value: boolean }\r\n}\r\nexport type SetIsCorrectAuthDataACType = {\r\n    type: typeof SET_IS_CORRECT_AUTH_DATA | string\r\n    payload : { value: boolean }\r\n}\r\n\r\nexport type LogoutOrDeleteUserACType = { type: typeof LOGOUT_OR_DELETE_USER | string }\r\n\r\nexport const setIsRegistrationAC = (value:boolean):SetIsRegistrationACType => ({ type: SET_IS_REGISTRATION, payload: {value} })\r\nexport const setIsCorrectAuthDataAC = (value:boolean):SetIsCorrectAuthDataACType => ({ type: SET_IS_CORRECT_AUTH_DATA, payload: {value} })\r\nexport const setIsAuthAC = (value:boolean): SetIsAuthACType => ({ type: SET_IS_AUTH, payload: {value} })\r\nexport const logoutOrDeleteUseAC = (): LogoutOrDeleteUserACType => ({ type: LOGOUT_OR_DELETE_USER })","import React from 'react';\nimport \"./selectItem.css\"\n\ntype PropsType = {\n    label: string\n    isActive: any\n    onChangeHandler: any\n    className?: string\n}\n\nconst SelectItem = (props: PropsType) => {\n\n    const {label, isActive, onChangeHandler, className} = props\n\n    return (\n        <div onClick={onChangeHandler} className={`selectItem dropdown-item ${className}`}>\n            {label}\n            {/*<input checked={isActive} type=\"radio\" className=\"selectItem__checkBox\"/>*/}\n        </div>\n    );\n}\n\nexport default SelectItem;\n","import React, {useRef, useState} from 'react';\nimport \"./selectStyles.css\"\nimport SelectItem from \"./selectItem/selectItem\";\nimport useOutsideClick from \"../../../hooks/useOutsideClick\";\n\nexport const initialStateSubway = {id: 0, label: \" \"}\nexport const initialStateCategory = {id: 0, label: \" \"}\n\nconst Select = (props: any) => {\n    const {\n        selectItems = [],\n        placeHolder,\n        onChangeHandler,\n        onBlurHandler = null,\n        onChangeHandlerSelectItem,\n        value,\n        className\n    } = props\n\n    const [isActive, setIsActive] = useState(false)\n    const ref = useRef(null)\n    const outsideClickHandler = () => isActive && setIsActive(false)\n    useOutsideClick(ref, outsideClickHandler)\n\n    const toggleIsActive: (boolean?: any) => void = (boolean:boolean | null = null) => {\n        setIsActive(prevIsActive => boolean !== null ? boolean : !prevIsActive)\n    }\n\n    return (\n        <div ref={ref} className={`select dropdown ${className} p-0`}>\n                <input onClick={toggleIsActive} onBlur={onBlurHandler} readOnly={true} onChange={onChangeHandler}\n                       placeholder={placeHolder}\n                       className={\"select__current form-control dropdown-toggle w-100\"}\n                       value={value} type=\"text\"/>\n                {/*<div className={\"select__current-arrow\"}>&darr;</div>*/}\n            <div className={`select__items dropdown-menu w-100 ${isActive && \"show\"}`}>\n                {selectItems.map((selectItem: any) =>\n                    <SelectItem {...selectItem} onChangeHandler={(event:any) => onChangeHandlerSelectItem(selectItem, toggleIsActive)}/>)}\n            </div>\n        </div>\n    );\n}\n\nexport default Select;\n","import {initialStateCategory, initialStateSubway} from \"../../../components/searchBox/select/select\";\r\n\r\nexport const SET_SEARCHED_DATA = \"SET_SEARCHED_DATA\"\r\nexport const SET_IS_FETCHING_SEARCH_REDUCER = \"SET_IS_FETCHING_SEARCH_REDUCER\"\r\nexport const SET_CURRENT_PAGE_SEARCH_REDUCER = \"SET_CURRENT_PAGE_SEARCH_REDUCER\"\r\nexport const SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER = \"SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER\"\r\nexport const RESET_TO_INITIAL_SEARCH_REDUCER = \"RESET_TO_INITIAL_SEARCH_REDUCER\"\r\nexport const SET_SEARCH_CONFIG_CATEGORY_ID = \"SET_SEARCH_CONFIG_CATEGORY_ID\"\r\nexport const SET_SEARCH_CONFIG_SUBWAY_STATIONS = \"SET_SEARCH_CONFIG_SUBWAY_STATIONS\"\r\nexport const SET_SEARCH_CONFIG_SEARCH_VALUE = \"SET_SEARCH_CONFIG_SEARCH_VALUE\"\r\n\r\nexport type initialStateType = typeof initialState\r\n\r\nconst initialState = {\r\n    searchedData : [],\r\n    currentPage : 0,\r\n    totalNumOfPages: 1,\r\n    isFetching: false,\r\n    searchConfig : {\r\n        categoryId: initialStateCategory,\r\n        subwayStations: initialStateSubway,\r\n        searchValue: \"\"\r\n    }\r\n}\r\n\r\nexport const searchBoxStateReducer = (state = initialState, action: any): initialStateType => {\r\n    const { type, payload } = action\r\n    const { value, withConcat } = payload || {}\r\n    const { searchedData, currentPage, searchConfig } = state\r\n\r\n    switch (type) {\r\n        case SET_SEARCHED_DATA :\r\n            console.log(\"SET_SEARCHED_DATA\", value)\r\n            const newSearchedData = withConcat ? searchedData.concat(value) : value\r\n            return {...state, searchedData: newSearchedData}\r\n        case SET_IS_FETCHING_SEARCH_REDUCER :\r\n            console.log(\"SET_IS_FETCHING_SEARCH_REDUCER\", value)\r\n            return {...state, isFetching: value}\r\n        case SET_CURRENT_PAGE_SEARCH_REDUCER :\r\n            const newCurrentPage = currentPage + 1\r\n            console.log(\"SET_CURRENT_PAGE_SEARCH_REDUCER\", newCurrentPage)\r\n            return {...state, currentPage: newCurrentPage}\r\n        case SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER :\r\n            console.log(\"SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER\", value)\r\n            return {...state, totalNumOfPages: value}\r\n        case RESET_TO_INITIAL_SEARCH_REDUCER :\r\n            console.log(\"RESET_TO_INITIAL_SEARCH_REDUCER\", value)\r\n            return initialState\r\n        case SET_SEARCH_CONFIG_CATEGORY_ID :\r\n            console.log(\"SET_SEARCH_CONFIG_CATEGORY_ID\", value)\r\n            return {...state, searchConfig: {...searchConfig, categoryId: value}}\r\n        case SET_SEARCH_CONFIG_SUBWAY_STATIONS :\r\n            console.log(\"SET_SEARCH_CONFIG_SUBWAY_STATIONS\", value)\r\n            return {...state, searchConfig: {...searchConfig, subwayStations: value}}\r\n        case SET_SEARCH_CONFIG_SEARCH_VALUE :\r\n            console.log(\"SET_SEARCH_CONFIG_SEARCH_VALUE\", value)\r\n            return {...state, searchConfig: {...searchConfig, searchValue: value}}\r\n        default: return state\r\n    }\r\n}","import {\r\n    SET_SEARCHED_DATA,\r\n    SET_IS_FETCHING_SEARCH_REDUCER,\r\n    SET_CURRENT_PAGE_SEARCH_REDUCER,\r\n    SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER,\r\n    RESET_TO_INITIAL_SEARCH_REDUCER,\r\n    SET_SEARCH_CONFIG_CATEGORY_ID,\r\n    SET_SEARCH_CONFIG_SUBWAY_STATIONS, SET_SEARCH_CONFIG_SEARCH_VALUE,\r\n} from \"./searchBoxState\";\r\n\r\nexport const setSearchedDataAC = (value:Array<any>, withConcat:boolean):SetSearchedDataAType => ({ type: SET_SEARCHED_DATA, payload: {value, withConcat} })\r\nexport const setIsFetchingSearchReducerAC = (value:boolean):SetIsFetchingSearchReducerACType => ({ type: SET_IS_FETCHING_SEARCH_REDUCER, payload: {value} })\r\nexport const setCurrentPageSearchReducerAC = ():SetCurrentPageSearchReducerACType => ({ type: SET_CURRENT_PAGE_SEARCH_REDUCER })\r\nexport const setTotalNumOfPageSearchReducerAC = (value:number):SetTotalNumOfPageSearchReducerACType => ({ type: SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER, payload: {value} })\r\nexport const resetToInitialStateSearchReducerAC = ():ResetToInitialStateSearchReducerACType => ({ type: RESET_TO_INITIAL_SEARCH_REDUCER })\r\nexport const setSearchConfigCategoryAC = (value:number):SetSearchConfigCategoryACType => ({ type: SET_SEARCH_CONFIG_CATEGORY_ID, payload: {value} })\r\nexport const setSearchConfigSubwayStationsAC = (value:string):SetSearchConfigSubwayStationsACType => ({ type: SET_SEARCH_CONFIG_SUBWAY_STATIONS, payload: {value} })\r\nexport const setSearchConfigSearchValueAC = (value:string):SetSearchConfigSearchValueACType => ({ type: SET_SEARCH_CONFIG_SEARCH_VALUE, payload: {value} })\r\n\r\n\r\n\r\nexport type SetSearchedDataAType = { type: typeof SET_SEARCHED_DATA, payload: { value: Array<any>, withConcat: boolean}}\r\nexport type SetIsFetchingSearchReducerACType = { type: typeof SET_IS_FETCHING_SEARCH_REDUCER, payload: { value: boolean }}\r\nexport type SetCurrentPageSearchReducerACType = { type: typeof SET_CURRENT_PAGE_SEARCH_REDUCER }\r\nexport type SetTotalNumOfPageSearchReducerACType = { type: typeof SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER, payload: { value: number } }\r\nexport type ResetToInitialStateSearchReducerACType = { type: typeof RESET_TO_INITIAL_SEARCH_REDUCER }\r\nexport type SetSearchConfigCategoryACType = { type: typeof SET_SEARCH_CONFIG_CATEGORY_ID, payload: { value: number } }\r\nexport type SetSearchConfigSubwayStationsACType = { type: typeof SET_SEARCH_CONFIG_SUBWAY_STATIONS, payload: { value: string }}\r\nexport type SetSearchConfigSearchValueACType = { type: typeof SET_SEARCH_CONFIG_SEARCH_VALUE, payload: { value: string }}\r\n","export const SET_IS_FETCHING_FEED_REDUCER = \"SET_IS_FETCHING_FEED_REDUCER\"\r\nexport const SET_LAST_ANNOUNCEMENTS = \"SET_LAST_ANNOUNCEMENTS\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    lastAnnouncements: [],\r\n    isFetching: false,\r\n    descriptionSalamRu: \"\"\r\n}\r\n\r\nexport const feedStateReducer = (state = initialState, action: any): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value } = payload || {}\r\n\r\n    switch (type) {\r\n        case SET_LAST_ANNOUNCEMENTS :\r\n            console.log(\"SET_LAST_ANNOUNCEMENTS\", value)\r\n            return {...state, lastAnnouncements: value}\r\n        case SET_IS_FETCHING_FEED_REDUCER :\r\n            console.log(\"SET_IS_FETCHING_FEED_REDUCER\", value)\r\n            return {...state, isFetching: value}\r\n        default: return state\r\n    }\r\n}","import { SET_LAST_ANNOUNCEMENTS, SET_IS_FETCHING_FEED_REDUCER } from \"./feedState\"\r\n\r\nexport type SetLastAnnouncementsACType = { type: typeof SET_LAST_ANNOUNCEMENTS, payload: { value: boolean }}\r\nexport type SetetIsFetchingFeedReducerACType = { type: typeof SET_IS_FETCHING_FEED_REDUCER, payload: { value: boolean }}\r\n\r\nexport const setLastAnnouncementsAC = (value:boolean):SetLastAnnouncementsACType => ({ type: SET_LAST_ANNOUNCEMENTS, payload: {value} })\r\nexport const setIsFetchingFeedReducerAC = (value:boolean):SetetIsFetchingFeedReducerACType => ({ type: SET_IS_FETCHING_FEED_REDUCER, payload: {value} })","import {getItemFromLocalStorage, setItemToLocalStorage} from \"../mainState/mainState\";\r\nimport defaultAvatar from \"../../../pictures/defaultAvatar.jpg\"\r\nexport const SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD = \"SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD\"\r\nexport const SET_IS_FETCHING_SETTINGS_REDUCER = \"SET_IS_FETCHING_SETTINGS_REDUCER\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    avatar: () => getItemFromLocalStorage(\"avatar\") || defaultAvatar,\r\n    name: () => getItemFromLocalStorage(\"name\") || \"\",\r\n    phone: () => getItemFromLocalStorage(\"phone\") || \"\",\r\n    login: () => getItemFromLocalStorage(\"login\") || \"\",\r\n    password: () => getItemFromLocalStorage(\"password\") || \"\",\r\n    isFetching: false\r\n}\r\n\r\nexport type SettingsFieldType = \"avatar\" | \"name\" | \"phone\" | \"login\" | \"currentPassword\" | \"password\" | string\r\n\r\nexport const settingsStateReducer = (state = initialState, action : any): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value, field } = payload || {}\r\n\r\n    switch (type) {\r\n        case SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD :\r\n            console.log(\"SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD\", value)\r\n            setItemToLocalStorage(field, value)\r\n            return state\r\n        case SET_IS_FETCHING_SETTINGS_REDUCER :\r\n            console.log(\"SET_IS_FETCHING_SETTINGS_REDUCER\", value)\r\n            return {...state, isFetching: value}\r\n        default: return state\r\n    }\r\n}","import {\r\n    SET_IS_FETCHING_SETTINGS_REDUCER,\r\n    SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD,\r\n    SettingsFieldType\r\n} from \"./settingsState\";\r\n\r\nexport type SetSettingsInLocalStorageByFieldACType = {\r\n    type: typeof SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD\r\n    payload : { value: any, field:  SettingsFieldType}\r\n}\r\n\r\nexport type SetIsFetchingSettingsReducerACType = {\r\n    type: typeof SET_IS_FETCHING_SETTINGS_REDUCER\r\n    payload : { value: boolean}\r\n}\r\nexport const setSettingsInLocalStorageByFieldAC = (value:any, field:SettingsFieldType):SetSettingsInLocalStorageByFieldACType =>\r\n    ({ type: SET_SETTINGS_IN_LOCAL_STORAGE_BY_FIELD, payload: {value, field} })\r\n\r\nexport const setIsFetchingSettingsReducerAC = (value:boolean):SetIsFetchingSettingsReducerACType =>\r\n    ({ type: SET_IS_FETCHING_SETTINGS_REDUCER, payload: {value} })\r\n","export const SET_IS_FETCHING_ANNOUNCEMENT_REDUCER = \"SET_IS_FETCHING_ANNOUNCEMENT_REDUCER\"\r\nexport const SET_ANNOUNCEMENT = \"SET_ANNOUNCEMENT\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    announcement: {},\r\n    isFetching: false,\r\n}\r\n\r\nexport const announcementStateReducer = (state = initialState, action: any): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value } = payload || {}\r\n\r\n    switch (type) {\r\n        case SET_ANNOUNCEMENT :\r\n            console.log(\"SET_ANNOUNCEMENT\", value)\r\n            return {...state, announcement: value}\r\n        case SET_IS_FETCHING_ANNOUNCEMENT_REDUCER :\r\n            console.log(\"SET_IS_FETCHING_FEED_REDUCER\", value)\r\n            return {...state, isFetching: value}\r\n        default: return state\r\n    }\r\n}","import { SET_ANNOUNCEMENT, SET_IS_FETCHING_ANNOUNCEMENT_REDUCER } from \"./announcementState\"\r\n\r\nexport type SetAnnouncementsACType = { type: typeof SET_ANNOUNCEMENT, payload: { value: boolean }}\r\nexport type SettIsFetchingAnnouncementReducerACType = { type: typeof SET_IS_FETCHING_ANNOUNCEMENT_REDUCER, payload: { value: boolean }}\r\n\r\nexport const setAnnouncementAC = (value:boolean):SetAnnouncementsACType => ({ type: SET_ANNOUNCEMENT, payload: {value} })\r\nexport const settIsFetchingAnnouncementReducerAC = (value:boolean):SettIsFetchingAnnouncementReducerACType => ({ type: SET_IS_FETCHING_ANNOUNCEMENT_REDUCER, payload: {value} })","import {SET_CURRENT_PAGE_SEARCH_REDUCER, SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER} from \"../searchBoxState/searchBoxState\";\r\n\r\nexport const SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER = \"SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER\"\r\nexport const DELETE_MY_ANNOUNCEMENT_BY_ID = \"DELETE_MY_ANNOUNCEMENT_BY_ID\"\r\nexport const SET_MY_ANNOUNCEMENTS = \"SET_MY_ANNOUNCEMENTS\"\r\nexport const SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER = \"SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER\"\r\nexport const SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER = \"SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER\"\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    myAnnouncements: [],\r\n    currentPage: 0,\r\n    totalNumOfPages: 1,\r\n    isFetching: false\r\n}\r\n\r\nexport const myAnnouncementsStateReducer = (state = initialState, action: any): initialStateType => {\r\n    const {type, payload } = action\r\n    const { value, id, withConcat = false } = payload || {}\r\n    const { myAnnouncements, currentPage } = state\r\n\r\n    switch (type) {\r\n        case SET_MY_ANNOUNCEMENTS :\r\n            console.log(\"SET_MY_ANNOUNCEMENTS\", value)\r\n            const newMyAnnouncementsSet = withConcat ? myAnnouncements.concat(value) : value\r\n            return {...state, myAnnouncements: newMyAnnouncementsSet}\r\n        case DELETE_MY_ANNOUNCEMENT_BY_ID :\r\n            console.log(\"DELETE_MY_ANNOUNCEMENT_BY_ID\", id)\r\n            const newMyAnnouncementsDel = myAnnouncements.filter( ({id: myAnnouncementId}:any) => myAnnouncementId !== id )\r\n            return {...state, myAnnouncements: newMyAnnouncementsDel}\r\n        case SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER :\r\n            console.log(\"SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER\", value)\r\n            return {...state, isFetching: value}\r\n        case SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER :\r\n            const newCurrentPage = currentPage + 1\r\n            console.log(\"SET_CURRENT_PAGE_SEARCH_REDUCER\", newCurrentPage)\r\n            return {...state, currentPage: newCurrentPage}\r\n        case SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER :\r\n            console.log(\"SET_TOTAL_NUM_OF_PAGE_SEARCH_REDUCER\", value)\r\n            return {...state, totalNumOfPages: value}\r\n        default: return state\r\n    }\r\n}","import {\r\n    SET_MY_ANNOUNCEMENTS,\r\n    SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER,\r\n    SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER,\r\n    SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER, DELETE_MY_ANNOUNCEMENT_BY_ID\r\n} from \"./myAnnouncementState\"\r\n\r\nexport type SetMyAnnouncementsACType =\r\n    { type: typeof SET_MY_ANNOUNCEMENTS, payload: { value: Array<any>, withConcat: boolean }}\r\n\r\nexport type SettIsFetchingMyAnnouncementReducerACType =\r\n    { type: typeof SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER, payload: { value: boolean }}\r\n\r\nexport type SetCurrentPageMyAnnouncementReducerACType = { type: typeof SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER }\r\nexport type DelMyAnnouncementByIdACType = { type: typeof DELETE_MY_ANNOUNCEMENT_BY_ID, payload: {id:number} }\r\nexport type SetTotalNumOfPageMyAnnouncementReducerACType = { type: typeof SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER, payload: { value: number } }\r\n\r\n\r\nexport const setMyAnnouncementsAC = (value:Array<any>, withConcat: boolean):SetMyAnnouncementsACType =>\r\n    ({ type: SET_MY_ANNOUNCEMENTS, payload: {value, withConcat} })\r\n\r\nexport const delMyAnnouncementByIdAC = (id:number):DelMyAnnouncementByIdACType =>\r\n    ({ type: DELETE_MY_ANNOUNCEMENT_BY_ID, payload: {id} })\r\n\r\nexport const settIsFetchingMyAnnouncementsReducerAC = (value:boolean):SettIsFetchingMyAnnouncementReducerACType =>\r\n    ({ type: SET_IS_FETCHING_MY_ANNOUNCEMENTS_REDUCER, payload: {value} })\r\n\r\nexport const setCurrentPageMyAnnouncementReducerAC = ():SetCurrentPageMyAnnouncementReducerACType =>\r\n    ({ type: SET_CURRENT_PAGE_MY_ANNOUNCEMENTS_REDUCER })\r\n\r\nexport const setTotalNumOfPageMyAnnouncementReducerAC = (value:number):SetTotalNumOfPageMyAnnouncementReducerACType =>\r\n    ({ type: SET_TOTAL_NUM_OF_PAGE_MY_ANNOUNCEMENTS_REDUCER, payload: {value} })","import {RESET_TO_INITIAL_SEARCH_REDUCER} from \"../searchBoxState/searchBoxState\";\r\n\r\nexport const SET_ANNOUNCEMENTS_LIST = \"SET_ANNOUNCEMENTS_LIST\"\r\nexport const SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER = \"SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER\"\r\nexport const SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER = \"SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER\"\r\nexport const RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER = \"RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER\"\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nconst initialState = {\r\n    announcementsList: [],\r\n    currentPage: 0,\r\n    totalNumOfPages: 1\r\n}\r\n\r\nexport const announcementsListStateReducer = (state = initialState, action: any): initialStateType => {\r\n\r\n    const {type, payload } = action\r\n    const { value, id, withConcat = false } = payload || {}\r\n    const { announcementsList, currentPage } = state\r\n\r\n    switch (type) {\r\n        case SET_ANNOUNCEMENTS_LIST:\r\n            console.log(\"SET_ANNOUNCEMENTS_LIST\", value)\r\n            const newMyAnnouncementsSet = withConcat ? announcementsList.concat(value) : value\r\n            return {...state, announcementsList: newMyAnnouncementsSet}\r\n        case SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER:\r\n            const newCurrentPage = currentPage + 1\r\n            console.log(\"SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER\", newCurrentPage)\r\n            return {...state, currentPage: newCurrentPage}\r\n        case SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER :\r\n            console.log(\"SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER\", value)\r\n            return {...state, totalNumOfPages: value}\r\n        case RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER :\r\n            console.log(\"RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER\")\r\n            return initialState\r\n        default: return state\r\n    }\r\n}","import {\r\n    RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER,\r\n    SET_ANNOUNCEMENTS_LIST,\r\n    SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER,\r\n    SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER\r\n} from \"./announcementsListState\";\r\n\r\n\r\nexport type SetAnnouncementsListACType = { type: typeof SET_ANNOUNCEMENTS_LIST, payload: { value: Array<any>, withConcat: boolean }}\r\nexport type SetCurrentPageAnnouncementsListReducerACType = { type: typeof SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER }\r\nexport type SetTotalNumOfPageAnnouncementsListReducerACType = { type: typeof SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER, payload: { value: number } }\r\nexport type ResetToInitialStateAnnouncementsListReducerACType = { type: typeof RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER }\r\n\r\nexport const setAnnouncementsListAC = (value:Array<any>, withConcat: boolean):SetAnnouncementsListACType =>\r\n    ({ type: SET_ANNOUNCEMENTS_LIST, payload: {value, withConcat} })\r\nexport const resetToInitialStateAnnouncementsListReducerAC = ():ResetToInitialStateAnnouncementsListReducerACType => ({ type: RESET_TO_INITIAL_ANNOUNCEMENTS_LIST_REDUCER })\r\nexport const setCurrentPageAnnouncementsListReducerAC = ():SetCurrentPageAnnouncementsListReducerACType =>\r\n    ({ type: SET_CURRENT_PAGE_ANNOUNCEMENTS_LIST_REDUCER })\r\n\r\nexport const setTotalNumOfPageAnnouncementsListReducerAC = (value:number):SetTotalNumOfPageAnnouncementsListReducerACType =>\r\n    ({ type: SET_TOTAL_NUM_OF_PAGE_ANNOUNCEMENTS_LIST_REDUCER, payload: {value} })","import {SET_IS_FETCHING_MAIN_STATE, SET_SUBWAY_STATIONS_DATA} from \"./mainState\";\r\n\r\nexport type MainStateActionTypes  = SetIsFetchingMainStateACType & SetSubwayStationsDataACType\r\n\r\nexport type SetIsFetchingMainStateACType = { type: typeof SET_IS_FETCHING_MAIN_STATE, payload: { value: boolean }}\r\nexport type SetSubwayStationsDataACType = { type: typeof SET_SUBWAY_STATIONS_DATA, payload: { value: Array<any> }}\r\n\r\n\r\nexport const setIsFetchingMainStateAC = (value:boolean):SetIsFetchingMainStateACType => ({ type: SET_IS_FETCHING_MAIN_STATE, payload: {value} })\r\nexport const setSubwayStationsDataAC = (value:Array<any>):SetSubwayStationsDataACType => ({ type: SET_SUBWAY_STATIONS_DATA, payload: {value} })","import {AuthorizationData, NewAnnouncementData, RegistrationData, testAPI} from \"../../api/testAPI\";\r\nimport {Dispatch} from \"redux\";\r\nimport {AppStateType} from \"../store\";\r\nimport {\r\n    logoutOrDeleteUseAC,\r\n    LogoutOrDeleteUserACType,\r\n    setIsAuthAC,\r\n    SetIsAuthACType,\r\n    setIsCorrectAuthDataAC,\r\n} from \"../reducers/authorizationState/authorizationStateActionCreators\";\r\nimport {CallHistoryMethodAction, push} from \"connected-react-router\";\r\nimport {\r\n    setIsFetchingSearchReducerAC,\r\n    SetIsFetchingSearchReducerACType,\r\n    setSearchedDataAC,\r\n    SetSearchedDataAType,\r\n    setTotalNumOfPageSearchReducerAC,\r\n    SetTotalNumOfPageSearchReducerACType\r\n} from \"../reducers/searchBoxState/searchBoxStateActionCreators\";\r\nimport {\r\n    SetetIsFetchingFeedReducerACType,\r\n    setIsFetchingFeedReducerAC,\r\n    setLastAnnouncementsAC,\r\n    SetLastAnnouncementsACType\r\n} from \"../reducers/feedState/feedStateActionCreators\";\r\nimport {SettingsFieldType} from \"../reducers/settingsState/settingsState\";\r\nimport {\r\n    setSettingsInLocalStorageByFieldAC,\r\n    SetSettingsInLocalStorageByFieldACType\r\n} from \"../reducers/settingsState/settingsStateActionCreators\";\r\nimport {\r\n    setAnnouncementAC,\r\n    SetAnnouncementsACType,\r\n    settIsFetchingAnnouncementReducerAC,\r\n    SettIsFetchingAnnouncementReducerACType\r\n} from \"../reducers/announcementState/announcementStateActionCreators\";\r\nimport {\r\n    delMyAnnouncementByIdAC,\r\n    DelMyAnnouncementByIdACType,\r\n    setMyAnnouncementsAC,\r\n    SetMyAnnouncementsACType,\r\n    SettIsFetchingMyAnnouncementReducerACType,\r\n    settIsFetchingMyAnnouncementsReducerAC,\r\n    setTotalNumOfPageMyAnnouncementReducerAC,\r\n    SetTotalNumOfPageMyAnnouncementReducerACType\r\n} from \"../reducers/myAnnouncementState/myAnnouncementStateActionCreators\";\r\nimport {PATH_FEED, PATH_MY_ANNOUNCEMENTS} from \"../../app/App\";\r\nimport {\r\n    setAnnouncementsListAC,\r\n    SetAnnouncementsListACType,\r\n    SetCurrentPageAnnouncementsListReducerACType,\r\n    setTotalNumOfPageAnnouncementsListReducerAC,\r\n    SetTotalNumOfPageAnnouncementsListReducerACType\r\n} from \"../reducers/announcementsListState/announcementsListStateActionCreators\";\r\nimport {\r\n    setIsFetchingMainStateAC,\r\n    SetIsFetchingMainStateACType,\r\n    setSubwayStationsDataAC,\r\n    SetSubwayStationsDataACType\r\n} from \"../reducers/mainState/mainStateActionCreators\";\r\nimport {\r\n    resetToInitialByPageFormReducerAC,\r\n    ResetToInitialByPageFormReducerACType\r\n} from \"../reducers/formState/formStateActionCreators\";\r\nimport defaultAvatar from \"../../pictures/defaultAvatar.jpg\"\r\n\r\ntype GetStateType = () => AppStateType\r\n\r\n\r\n//--------------------AUTHORIZATION---------------------//\r\ntype SendAuthDispatchType = Dispatch<SetIsAuthACType | SetIsFetchingMainStateACType | any | SetSettingsInLocalStorageByFieldACType | CallHistoryMethodAction | ResetToInitialByPageFormReducerACType>\r\nexport const sendAuthorizationOrRegistrationThunk = (data: AuthorizationData & RegistrationData) => (dispatch: SendAuthDispatchType, getState: any) => {\r\n    const {authorizationState: {isRegistration}} = getState()\r\n    dispatch(setIsFetchingMainStateAC(true))\r\n    console.log(\"sendAuthorizationOrRegistrationThunk\", data)\r\n\r\n    const getRequestMethod = () => isRegistration ? \"postRegistrationData\" : \"postAuthorizationData\"\r\n    testAPI[getRequestMethod()](data)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `AUTHORIZATION DATA IS NOT POSTED STATUS ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({result = true}) => {\r\n            dispatch(setIsFetchingMainStateAC(false))\r\n            if (result) {\r\n                dispatch(getUserInfoThunk())\r\n                dispatch(setSettingsInLocalStorageByFieldAC(data.login,\"login\"))\r\n                dispatch(setSettingsInLocalStorageByFieldAC(data.password,\"password\"))\r\n                dispatch(setIsAuthAC(true))\r\n            } else dispatch(setIsCorrectAuthDataAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------SEARCH-BOX---------------------//\r\ntype GetSubwayStationsDispatchType = Dispatch<SetSubwayStationsDataACType>\r\nexport const getSubwayStationsThunk = () => (dispatch: GetSubwayStationsDispatchType) => {\r\n    console.log(\"getSubwayStationsThunk\")\r\n\r\n    testAPI[\"getSubwayStations\"]()\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(data => {\r\n            dispatch(setSubwayStationsDataAC(data))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\ntype GetAnnouncementsByFiltersDispatchType = Dispatch<SetSearchedDataAType | SetTotalNumOfPageSearchReducerACType | SetIsFetchingSearchReducerACType>\r\nexport const getAnnouncementsByFiltersThunk = (withConcat: boolean = false) => (dispatch: GetAnnouncementsByFiltersDispatchType, getState: any) => {\r\n    dispatch(setIsFetchingSearchReducerAC(true))\r\n    console.log(\"getAnnouncementsByFiltersThunk\")\r\n    const {currentPage, searchConfig: {categoryId, subwayStations, searchValue}} = getState().searchBoxState\r\n    testAPI[\"getAnnouncementsByFilters\"](currentPage, searchValue, categoryId, subwayStations)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({totalNumOfPages, announcements}) => {\r\n            dispatch(setTotalNumOfPageSearchReducerAC(totalNumOfPages))\r\n            dispatch(setSearchedDataAC(announcements, withConcat))\r\n            dispatch(setIsFetchingSearchReducerAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------FEED-PAGE--------------------//\r\ntype getLastAnnouncementsDispatchType = Dispatch<SetetIsFetchingFeedReducerACType | SetLastAnnouncementsACType>\r\nexport const getLastAnnouncementsThunk = () => (dispatch: getLastAnnouncementsDispatchType) => {\r\n    dispatch(setIsFetchingFeedReducerAC(true))\r\n    console.log(\"sendAuthorizationOrRegistrationThunk\")\r\n\r\n    testAPI[\"getLastAnnouncements\"]()\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then((data) => {\r\n            dispatch(setLastAnnouncementsAC(data))\r\n            dispatch(setIsFetchingFeedReducerAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n//--------------------SETTINGS-PAGE--------------------//\r\ntype PostSettingByFieldDispatchType = Dispatch<SetSettingsInLocalStorageByFieldACType>\r\nexport const postSettingByFieldThunk = (data: any, field: SettingsFieldType) => (dispatch: PostSettingByFieldDispatchType) => {\r\n    console.log(\"postSettingByFieldThunk\")\r\n    const [value] = Object.values(data)\r\n\r\n    testAPI[\"postSettingsByField\"](data, field)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH POST REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({result = false}) => {\r\n            result && dispatch(setSettingsInLocalStorageByFieldAC(value, field))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\ntype PostLogoutOrDeleteUserType = Dispatch<LogoutOrDeleteUserACType | CallHistoryMethodAction>\r\ntype LogoutOrDeleteType = \"logout\" | \"delete\"\r\nexport const postLogoutOrDeleteUser = (logoutOrDelete: LogoutOrDeleteType) => (dispatch: PostLogoutOrDeleteUserType) => {\r\n    console.log(\"postLogoutOrDeleteUser\")\r\n\r\n    const getRequestByLogoutOrDelete = () => {\r\n        if (logoutOrDelete === \"logout\") return \"postLogout\"\r\n        if (logoutOrDelete === \"delete\") return \"postDelete\"\r\n        return \"postLogout\"\r\n    }\r\n\r\n    testAPI[getRequestByLogoutOrDelete()]()\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH POST REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({result = false}) => {\r\n            if (result) {\r\n                dispatch(logoutOrDeleteUseAC())\r\n                dispatch(push(PATH_FEED))\r\n            }\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------ANNOUNCEMENT-PAGE--------------------//\r\ntype GetAnnouncementByCategoryAndIdDispatchType = Dispatch<SettIsFetchingAnnouncementReducerACType | SetAnnouncementsACType>\r\nexport const getAnnouncementByCategoryAndIdThunk = (category: string, id: number) => (dispatch: GetAnnouncementByCategoryAndIdDispatchType) => {\r\n    dispatch(settIsFetchingAnnouncementReducerAC(true))\r\n    console.log(\"getAnnouncementByCategoryAndIdThunk\")\r\n\r\n    testAPI[\"getAnnouncementByCategoryAndId\"](category, id)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then((data) => {\r\n            dispatch(setAnnouncementAC(data))\r\n            dispatch(settIsFetchingAnnouncementReducerAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------MY-ANNOUNCEMENT-PAGE--------------------//\r\ntype GetMyAnnouncementsDispatchType = Dispatch<SetMyAnnouncementsACType | SettIsFetchingMyAnnouncementReducerACType | SetTotalNumOfPageMyAnnouncementReducerACType>\r\nexport const getMyAnnouncementsThunk = (withConcat = false) => (dispatch: GetMyAnnouncementsDispatchType, getState: any) => {\r\n    dispatch(settIsFetchingMyAnnouncementsReducerAC(true))\r\n    console.log(\"getMyAnnouncementsThunk\")\r\n\r\n    const {myAnnouncementsState: {currentPage}} = getState()\r\n\r\n    testAPI[\"getMyAnnouncements\"](currentPage)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({totalNumOfPages, announcements}) => {\r\n            dispatch(setTotalNumOfPageMyAnnouncementReducerAC(totalNumOfPages))\r\n            dispatch(setMyAnnouncementsAC(announcements, withConcat))\r\n            dispatch(settIsFetchingMyAnnouncementsReducerAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\ntype PostDeleteAnnouncementDispatchType = Dispatch<SettIsFetchingMyAnnouncementReducerACType | DelMyAnnouncementByIdACType>\r\nexport const postDeleteAnnouncementThunk = (id: number) => (dispatch: PostDeleteAnnouncementDispatchType) => {\r\n    dispatch(settIsFetchingMyAnnouncementsReducerAC(true))\r\n    console.log(\"postDeleteAnnouncementThunk\")\r\n\r\n    testAPI[\"postDeleteAnnouncement\"](id)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH POST REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({result = false}) => {\r\n            result && dispatch(delMyAnnouncementByIdAC(id))\r\n            dispatch(settIsFetchingMyAnnouncementsReducerAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------CREATE-ANNOUNCEMENT--------------------//\r\ntype PostNewAnnouncementDispatchType = Dispatch<SetIsFetchingMainStateACType | CallHistoryMethodAction>\r\nexport const postNewAnnouncementThunk = (data: NewAnnouncementData) => (dispatch: PostNewAnnouncementDispatchType) => {\r\n    dispatch(setIsFetchingMainStateAC(true))\r\n    console.log(\"postNewAnnouncement\")\r\n\r\n    testAPI[\"postNewAnnouncement\"](data)\r\n        .then(response => {\r\n            if (response.status !== 200) throw `CANNOT FETCH POST REQUEST ${response.status}`\r\n            else {\r\n                dispatch(setIsFetchingMainStateAC(true))\r\n                dispatch(push(PATH_MY_ANNOUNCEMENTS))\r\n            }\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n\r\n//--------------------ANNOUNCEMENTS-LIST-PAGE--------------------//\r\ntype GetAnnouncementsListDispatchType = Dispatch<SetTotalNumOfPageAnnouncementsListReducerACType | SetIsFetchingMainStateACType | SetAnnouncementsListACType | SetCurrentPageAnnouncementsListReducerACType>\r\nexport const getAnnouncementsListThunk = (category: string, withConcat = false) => (dispatch: GetAnnouncementsListDispatchType, getState: any) => {\r\n    dispatch(setIsFetchingMainStateAC(true))\r\n    console.log(\"getAnnouncementsListThunk\")\r\n\r\n    const {announcementsListState: {currentPage}} = getState()\r\n\r\n    testAPI[\"getAnnouncementsList\"](currentPage, category)\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then(({totalNumOfPages, announcements}) => {\r\n            dispatch(setTotalNumOfPageAnnouncementsListReducerAC(totalNumOfPages))\r\n            dispatch(setAnnouncementsListAC(announcements, withConcat))\r\n            dispatch(setIsFetchingMainStateAC(false))\r\n        })\r\n        .catch(err => console.error(err))\r\n}\r\n//--------------------GET-USER-INFO--------------------//\r\ntype GetUserInfoDispatchType = Dispatch<SetSettingsInLocalStorageByFieldACType>\r\ntype GetUserInfoThunkType = typeof getUserInfoThunk\r\nexport const getUserInfoThunk = () => (dispatch:GetUserInfoDispatchType) => {\r\n    console.log(\"getUserInfoThunk\")\r\n    testAPI.getUserInfo()\r\n        .then(response => {\r\n            if (response.status !== 200)\r\n                throw `CANNOT FETCH GET REQUEST ${response.status}`\r\n            return response.json()\r\n        })\r\n        .then( ({avatar = defaultAvatar, ...restUserData}) => {\r\n            console.log(\"RESPONSE\", restUserData)\r\n            dispatch(setSettingsInLocalStorageByFieldAC(avatar, \"avatar\"))\r\n            const userDataEntries = Object.entries(restUserData)\r\n            userDataEntries.forEach( ([field, value]) => {\r\n                console.log(field, value)\r\n                dispatch(setSettingsInLocalStorageByFieldAC(value, field))\r\n            })\r\n        })\r\n}","\r\nexport const getIsRegistrationSelector = (state: any) => state.authorizationState.isRegistration\r\nexport const getIsAuthSelector = (state: any) => state.authorizationState.isAuth()\r\nexport const getIsCorrectAuthDataSelector = (state: any) => state.authorizationState.isCorrectAuthData","\r\nexport const getIsFetchingMainStateSelector = (state: any) => state.mainState.isFetching\r\nexport const getSubwayStationsDataSelector = (state: any) => state.mainState.subwayStationsData\r\nexport const getCategoriesDataSelector = (state: any) => state.mainState.categoriesData\r\n\r\n","import React from 'react';\nimport \"./buttonStyles.css\"\n\ntype ButtonPropsType = {\n    onClickHandler?: ((event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void)\n    label: string\n    isDisabled?: boolean\n    className?: string\n}\n\nconst Button = (props: ButtonPropsType) => {\n\n    const {className, isDisabled = false, label, onClickHandler} = props\n\n  return isDisabled ?\n       <div className={`btn  ${className}`}>...</div> :\n      <div onClick={onClickHandler} className={`btn ${className}`}>{label}</div>\n\n}\n\nexport default Button;\n","import {initialStateCategory, initialStateSubway} from \"../../../components/searchBox/select/select\";\r\nimport {getItemFromLocalStorage} from \"../mainState/mainState\";\r\n\r\nexport const SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER = \"SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER\"\r\nexport const RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER = \"RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER\"\r\nexport const SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER = \"SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER\"\r\nexport const CHECK_IS_READY_TO_SEND_BY_PAGE_FORM_REDUCER = \"CHECK_IS_READY_TO_SEND_BY_PAGE_FORM_REDUCER\"\r\n\r\nexport type FormReducerPagesType = \"authorization\" | \"registration\" | \"createAnnouncement\" | \"settings\"\r\nexport type FormReducerFieldsType = FormReducerAuthorizationFieldsType | FormReducerRegistrationFieldsType\r\nexport type FormReducerAuthorizationFieldsType = \"login\" | \"password\"\r\nexport type FormReducerRegistrationFieldsType = \"name\" | \"login\" | \"phoneNumber\" | \"password\"\r\n\r\n\r\nexport const defaultInitialStateForFormField = {value: \"\", isValid: true}\r\n\r\nconst initialState = {\r\n    authorization : {\r\n        login: defaultInitialStateForFormField,\r\n        password: defaultInitialStateForFormField,\r\n        isReadyToSend: false\r\n    },\r\n    registration : {\r\n        name: defaultInitialStateForFormField,\r\n        login: defaultInitialStateForFormField,\r\n        phoneNumber: defaultInitialStateForFormField,\r\n        password: defaultInitialStateForFormField,\r\n        isReadyToSend: false\r\n    },\r\n    createAnnouncement : {\r\n        photos: {value: [], isValid: true},\r\n        name: defaultInitialStateForFormField,\r\n        price: defaultInitialStateForFormField,\r\n        category: {value: initialStateCategory, isValid: true},\r\n        description: defaultInitialStateForFormField,\r\n        phone: defaultInitialStateForFormField,\r\n        subway: {value: initialStateSubway, isValid: true},\r\n        isReadyToSend: false\r\n    },\r\n    settings : {\r\n        avatar: defaultInitialStateForFormField,\r\n        name: defaultInitialStateForFormField,\r\n        phone: defaultInitialStateForFormField,\r\n        login: defaultInitialStateForFormField,\r\n        isReadyToSend: false\r\n    }\r\n}\r\n\r\nconst checkIsValid = (field: string, value: any) => {\r\n    console.log(\"checkIsValid\", field, value)\r\n    switch (field) {\r\n        case \"name\" :\r\n            return !!value.length\r\n        case \"password\" :\r\n            return value.length <= 24 && value.length > 6\r\n        case \"phoneNumber\" :\r\n            return !!value.length\r\n        case \"login\" :\r\n            return !!value.length\r\n        case \"subway\":\r\n            return JSON.stringify(value) !== JSON.stringify(initialStateSubway)\r\n        case \"price\":\r\n            return !!value.length\r\n        case \"phone\":\r\n            return !!value.length\r\n        case \"category\":\r\n            return JSON.stringify(value) !== JSON.stringify(initialStateCategory)\r\n        case \"description\":\r\n            return !!value.length\r\n        default : return true\r\n    }\r\n}\r\n\r\nexport const prepareFormStateByPageForSend = ({isReadyToSend, ...restFormState}: any) => {\r\n    const stateEntries = Object.entries(restFormState)\r\n    const defaultCondition = (postData: any, key: any, value: any) => {\r\n        postData[key] = value\r\n        return postData\r\n    }\r\n    return (condition: Function = defaultCondition) => stateEntries.reduce( (postData: any, [key, {value}]: any) => {\r\n        return condition(postData, key, value)\r\n    }, {})\r\n}\r\n\r\nconst formStateReducer = (state = initialState, action: any) => {\r\n    const {type, payload} = action\r\n    const {field = \"\", value = \"\", page = \"\" } = payload || {}\r\n    // @ts-ignore\r\n    const stateByPage = state[page] || {}\r\n    const stateByField = stateByPage[field]\r\n\r\n    switch (type) {\r\n        case SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER :\r\n            console.log(\"SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER\", page, value)\r\n            return {...state, [page] : {...stateByPage, [field] : {...stateByField, value, isValid: true}} }\r\n        case SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER :\r\n            const isValid = checkIsValid(field, stateByField.value)\r\n            console.log(\"SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER\", field, page)\r\n            return {...state, [page] : {...stateByPage, [field] : {...stateByField, isValid}} }\r\n        case CHECK_IS_READY_TO_SEND_BY_PAGE_FORM_REDUCER :\r\n            console.log(\"SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER\", page)\r\n            const stateKeys = Object.keys(stateByPage)\r\n            const newState = stateKeys.reduce( (newState: any, field: any) => {\r\n                const {value} = stateByPage[field]\r\n                const isValid = checkIsValid(field, value)\r\n                if(!isValid) {\r\n                    console.log(\"ISVALID FALSE\")\r\n                    newState.isReadyToSend = false\r\n                    newState[field].isValid = false\r\n                }\r\n                return newState\r\n            }, {...stateByPage, isReadyToSend: true} )\r\n            return {...state, [page] : newState }\r\n        case RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER :\r\n            // @ts-ignore\r\n            return {...state, [page] : initialState[page] }\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default formStateReducer","import {\r\n    FormReducerFieldsType,\r\n    SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER,\r\n    SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER,\r\n    CHECK_IS_READY_TO_SEND_BY_PAGE_FORM_REDUCER, RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER, FormReducerPagesType,\r\n\r\n} from \"./formState\"\r\nimport {SET_LAST_ANNOUNCEMENTS} from \"../feedState/feedState\";\r\n\r\nexport type ResetToInitialByPageFormReducerACType = { type: typeof RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER, payload: { page: FormReducerPagesType }}\r\n\r\n\r\nexport const seValueFormReducerAC = ( value: string | number, field: FormReducerFieldsType, page: FormReducerPagesType,) =>\r\n    ({ type: SET_VALUE_BY_PAGE_AND_FIELD_FORM_REDUCER, payload: {value, field, page} })\r\n\r\nexport const setIsValidFormReducerAC = (field: FormReducerFieldsType, page: FormReducerPagesType ) =>\r\n    ({ type: SET_IS_VALID_BY_PAGE_AND_FIELD_FORM_REDUCER, payload: {field, page} })\r\n\r\nexport const checkIsReadyToSendByPageFormReducerAC = (page: FormReducerPagesType ) =>\r\n    ({ type: CHECK_IS_READY_TO_SEND_BY_PAGE_FORM_REDUCER, payload: {page} })\r\n\r\nexport const resetToInitialByPageFormReducerAC = (page: FormReducerPagesType): ResetToInitialByPageFormReducerACType =>\r\n    ({ type: RESET_TO_INITIAL_BY_PAGE_FORM_REDUCER, payload: {page} })\r\n","import { FormReducerFieldsType, FormReducerPagesType } from \"./formState\"\r\n\r\nexport const getFieldsByPageFormReducerSelector = (state: any, page: FormReducerPagesType) => state.formState[page]\r\n// export const getIsValidByFieldFormReducerSelector = (state: any, field: FormReducerFieldsType) => state.formState[field].isValid\r\n","import React, {ChangeEvent, useCallback, useEffect} from 'react';\nimport \"./authorizationPopupBoxStyles.css\"\nimport TextInput from \"../../textInput/textInput\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {sendAuthorizationOrRegistrationThunk} from \"../../../redux/thunks/thunks\";\nimport {\n    setIsCorrectAuthDataAC,\n    setIsRegistrationAC,\n} from \"../../../redux/reducers/authorizationState/authorizationStateActionCreators\";\nimport {\n    getIsCorrectAuthDataSelector,\n    getIsRegistrationSelector\n} from \"../../../redux/reducers/authorizationState/authorizationStateSelectors\";\nimport {getIsFetchingMainStateSelector} from \"../../../redux/reducers/mainState/mainStateSelectors\";\nimport Button from \"../../button/button\";\nimport {\n    checkIsReadyToSendByPageFormReducerAC, resetToInitialByPageFormReducerAC,\n    setIsValidFormReducerAC,\n    seValueFormReducerAC\n} from \"../../../redux/reducers/formState/formStateActionCreators\";\nimport {getFieldsByPageFormReducerSelector} from \"../../../redux/reducers/formState/formStateSelectors\";\nimport {prepareFormStateByPageForSend} from \"../../../redux/reducers/formState/formState\";\n\n\ntype fieldTypes = \"password\" | \"login\" | \"name\" | string\n\ntype PropsType = {\n    closeModalWindow?: Function\n}\n\nconst AuthorizationPopupBox = (props: PropsType) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const isRegistration = useSelector(getIsRegistrationSelector)\n    const isCorrectAuthData = useSelector(getIsCorrectAuthDataSelector)\n    const isFetching = useSelector(getIsFetchingMainStateSelector)\n    const authFormState: any = useSelector((state) => getFieldsByPageFormReducerSelector(state, \"authorization\"))\n    const regFormState: any = useSelector((state) => getFieldsByPageFormReducerSelector(state, \"registration\"))\n    const currentFormState = (isRegistration ? regFormState : authFormState) || {}\n    const currentPage = isRegistration ? \"registration\" : \"authorization\"\n    const {isReadyToSend} = currentFormState\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const sendAuthorizationOrRegistration = useCallback((data) => dispatch(sendAuthorizationOrRegistrationThunk(data)), [dispatch])\n    const setIsRegistration = useCallback((boolean) => dispatch(setIsRegistrationAC(boolean)), [dispatch])\n    const seValueFormReducer = useCallback((value, field) => dispatch(seValueFormReducerAC(value, field, currentPage)), [dispatch, isRegistration])\n    const setIsCorrectAuthData = useCallback(() => dispatch(setIsCorrectAuthDataAC(true)), [dispatch])\n    const setIsValidFormReducer = useCallback((field) => dispatch(setIsValidFormReducerAC(field, currentPage)), [dispatch, isRegistration])\n    const resetToInitialByPageFormReducer = useCallback((page) => dispatch(resetToInitialByPageFormReducerAC(page)), [dispatch, isRegistration])\n    const checkIsReadyToSend = useCallback(() => dispatch(checkIsReadyToSendByPageFormReducerAC(currentPage)), [dispatch, isRegistration])\n\n    //------WILL-UNMOUNT-LIFE-CYCLE-----//\n    useEffect(() => {\n        return () => {\n            resetToInitialByPageFormReducer(\"authorization\")\n            resetToInitialByPageFormReducer(\"registration\")\n        }\n    }, [])\n\n    //------DID-UPDATE-LIFE-CYCLE-----//\n    useEffect(() => {\n        if(isReadyToSend) {\n            const postData = prepareFormStateByPageForSend(currentFormState)()\n            sendAuthorizationOrRegistration(postData)\n        }\n    }, [isReadyToSend])\n\n    // -     .      .\n    const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>, field: fieldTypes) => {\n        const {currentTarget: {value}} = event\n        console.log(\"onChangeHandler\", field, value)\n        seValueFormReducer(value, field)\n        !isCorrectAuthData && setIsCorrectAuthData()\n    }\n\n    //       \n    const getInputsConfig = () => {\n        const {name = {}, login = {}, password = {}, phoneNumber = {}} = currentFormState\n        return [\n            {\n                field: \"name\",\n                label: \"\",\n                inputType: \"text\",\n                placeholder: \"  \",\n                value: name.value,\n                isValid: name.isValid\n            },\n            {\n                field: \"phoneNumber\",\n                label: \" \",\n                inputType: \"number\",\n                placeholder: \"  \",\n                value: phoneNumber.value,\n                isValid: phoneNumber.isValid\n            },\n            {\n                field: \"login\",\n                label: \"E-mail\",\n                inputType: \"text\",\n                placeholder: \"  E-mail\",\n                value: login.value,\n                isValid: login.isValid\n            },\n            {\n                field: \"password\",\n                label: \"\",\n                inputType: \"password\",\n                placeholder: \"  \",\n                value: password.value,\n                isValid: password.isValid\n            },\n        ]\n    }\n\n    //        \n    const getBtnByIsExistUserForSwitch = () => {\n        return <span onClick={() => setIsRegistration(!isRegistration)} className={\"authorization-popupBox__reg-btn\"}>\n            {isRegistration ? \"\" : \"\" }\n        </span>\n    }\n\n    return (\n        <div className=\"authorization-popupBox position-relative\">\n            <h1 className={\"authorization-popupBox__title\"}>{!isRegistration ? \"\" : \"\"}</h1>\n            <hr className={\"my-3\"}/>\n            <div className=\"authorization-popupBox__inputs-wrapper mb-2\">\n                { getInputsConfig().map( ({field, inputType, placeholder, value, label, isValid}) => {\n                    if(!isRegistration && field == \"name\") return null\n                    if(!isRegistration && field == \"phoneNumber\") return null\n                    return <TextInput className={\"mb-4\"} key={field} label={label}\n                                      isValid={isValid} placeholder={placeholder}\n                                      inputType={inputType} value={value}\n                                      onBlurHandler={() => setIsValidFormReducer(field)}\n                                      onChangeHandler={(event: ChangeEvent<HTMLInputElement>) => onChangeHandler(event, field)}/>\n                }) }\n            </div>\n            {!isCorrectAuthData && !isRegistration && <h4>   </h4>}\n            <Button onClickHandler={checkIsReadyToSend} label={!isRegistration ? \"\" : \"\"}\n                    isDisabled={isFetching} className={\"authorization-popupBox__btn btn-success\"}/>\n            {getBtnByIsExistUserForSwitch()}\n        </div>\n    );\n}\n\nexport default AuthorizationPopupBox;\n","import React from 'react';\nimport ModalWindow from \"../modalWindow\";\nimport AuthorizationPopupBox from \"./authorizationPopupBox\";\nimport Button from \"../../button/button\";\n\ntype AuthorizationModalWindowType = {\n  isActiveFromProps?: boolean\n  alertCloseHandler?:Function\n}\nconst AuthorizationModalWindow = (props: AuthorizationModalWindowType) => {\n\n  const {isActiveFromProps = false, alertCloseHandler} = props\n\n  return (\n      <ModalWindow alertCloseHandler={alertCloseHandler} isActiveFromProps={isActiveFromProps} withOpenBtn={true} modal={<AuthorizationPopupBox/>}>{\n          (openModalWindow:any) =>\n              <Button label=\"  \" onClickHandler={openModalWindow} className=\"btn-outline-light\"/>\n      }</ModalWindow>\n  );\n}\n\nexport default AuthorizationModalWindow;\n","import React from 'react';\nimport \"./alertPopupBoxStyles.css\"\nimport Button from \"../../button/button\";\n\nexport type AlertPopupBoxType = {\n    closeModalWindow?: (boolean:boolean | any) => void\n    btnOneConfiguration : {\n        btnOneClassName? : string\n        btnOneLabel : string\n    }\n    btnTwoConfiguration : {\n        btnTwoHandler?: Function\n        btnTwoLabel : string\n        btnTwoClassName? : string\n    }\n    className?:string\n    alertText: string\n}\n\nconst AlertPopupBox = (props: AlertPopupBoxType) => {\n\n    const {\n        closeModalWindow = () => null,\n        alertText,\n        btnOneConfiguration : {btnOneLabel},\n        btnTwoConfiguration : {btnTwoHandler = () => null, btnTwoLabel}\n    } = props\n\n    const onClickBtnTwoHandler = () => {\n        btnTwoHandler()\n        closeModalWindow(false)\n    }\n\n    return (\n        <div className=\"alertPopupBox\">\n            <h2 className={\"alertPopupBox__title\"}>{alertText}</h2>\n            <hr className={\"my-4\"}/>\n            <div className=\"d-flex justify-content-between\">\n                <Button className={\"btn-success col-lg-5\"} onClickHandler={closeModalWindow} label={btnOneLabel}/>\n                <Button className={\"btn-danger col-lg-5\"} onClickHandler={onClickBtnTwoHandler} label={btnTwoLabel}/>\n            </div>\n        </div>\n    );\n}\n\nexport default AlertPopupBox;\n","import React from 'react';\nimport ModalWindow from \"../modalWindow\";\nimport AlertPopupBox from \"./alertPopupBox\";\n\nexport type AlertModalType = {\n  btnOneConfiguration : {\n    btnOneHandler?: Function\n    btnOneClassName? : string\n    btnOneLabel : string\n  }\n  btnTwoConfiguration : {\n    btnTwoHandler?: Function\n    btnTwoLabel : string\n    btnTwoClassName? : string\n  }\n  className?:string\n  alertText: string\n  openBtnElement?: any\n  isActiveFromProps?: boolean\n}\n\nconst AlertModalWindow = (props: AlertModalType) => {\n  const {openBtnElement, btnOneConfiguration: {btnOneHandler}, isActiveFromProps} = props\n  return (\n      <ModalWindow isActiveFromProps={isActiveFromProps} alertCloseHandler={btnOneHandler} withOpenBtn={true} modal={<AlertPopupBox {...props}/>}>{ (openModalWindow:any) =>\n          openBtnElement && React.cloneElement(openBtnElement, {onClickHandler: openModalWindow})\n      }</ModalWindow>\n  );\n}\n\nexport default AlertModalWindow;\n","\r\nexport const getSettingsFieldValueByFieldSelector = (state: any, field: string) => state.settingsState[field]()","import React, {useCallback, useRef, useState} from 'react';\r\nimport \"./headerStyles.css\"\r\nimport {Link, NavLink} from 'react-router-dom';\r\nimport Logo from \"../logo/logo\";\r\nimport AuthorizationModalWindow from \"../modalWindow/authorizationModalWindow/authorizationModalWindow\";\r\nimport {PATH_CREATE_ANNOUNCEMENT, PATH_HOUSING, PATH_JOB, PATH_MY_ANNOUNCEMENTS, PATH_SETTINGS} from \"../../app/App\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getIsAuthSelector,\r\n} from \"../../redux/reducers/authorizationState/authorizationStateSelectors\";\r\nimport AlertModalWindow from \"../modalWindow/alertModalWindow/alertModalWindow\";\r\nimport Button from \"../button/button\";\r\nimport {postLogoutOrDeleteUser, postSettingByFieldThunk} from \"../../redux/thunks/thunks\";\r\nimport useOutsideClick from \"../../hooks/useOutsideClick\";\r\nimport {getSettingsFieldValueByFieldSelector} from \"../../redux/reducers/settingsState/settingsStateSelectors\";\r\n\r\nconst Header = (props: any) => {\r\n\r\n    //------USE-REF-----//\r\n    const ref = useRef(null)\r\n\r\n    //------MAP-STATE-TO-PROPS-----//\r\n    const isAuth = useSelector(getIsAuthSelector)\r\n    const name = useSelector((state) => getSettingsFieldValueByFieldSelector(state, \"name\"))\r\n\r\n    //-----MAP-DISPATCH-TO-PROPS----//\r\n    const dispatch = useDispatch()\r\n    const logoutUser = useCallback(() => dispatch(postLogoutOrDeleteUser(\"logout\")), [dispatch])\r\n\r\n    //------LOCAL-STATE-----//\r\n    const [isActiveAuthModal, setIsActiveAuthModal] = useState(false)\r\n    const [isActiveAuthMenu, setIsActiveAuthMenu] = useState(false)\r\n    const [isActiveLogoutAlert, setIsActiveLogoutAlert] = useState(false)\r\n\r\n    const outsideClickHandler = () => {\r\n        isActiveAuthMenu && toggleIsActiveAuthMenu()\r\n    }\r\n\r\n    useOutsideClick(ref, outsideClickHandler)\r\n\r\n    const toggleIsActiveAuthMenu = () => {\r\n        console.log(\"toggleIsActiveAuthMenu\")\r\n        setIsActiveAuthMenu(prevState => !prevState)\r\n    }\r\n\r\n    const linkConfigs = [\r\n        {path: PATH_HOUSING, label: \"\"},\r\n        {path: PATH_JOB, label: \"\"}\r\n    ]\r\n\r\n    const alertCreateAnnouncement = useCallback(() =>\r\n        <AlertModalWindow openBtnElement={<Button className={\"header__btn-link btn-outline-light\"} label={\" \"}/>}\r\n                          btnOneConfiguration={{btnOneLabel: \"\", btnOneHandler:() => setIsActiveAuthModal(false) }}\r\n                          btnTwoConfiguration={{btnTwoLabel: \"\", btnTwoHandler:() => setIsActiveAuthModal(true) }}\r\n                          alertText={\"  ,  !\"}/>, [])\r\n\r\n    const alertLogout = useCallback(() =>\r\n        <AlertModalWindow isActiveFromProps={true} alertText={\"  ?\"}\r\n                          btnOneConfiguration={{btnOneLabel: \"\", btnOneHandler:() => setIsActiveLogoutAlert(false)}}\r\n                          btnTwoConfiguration={{btnTwoLabel: \"\", btnTwoHandler:logoutUser }}/>, [])\r\n\r\n\r\n    const linkToCreateAnnouncement = <>\r\n        <NavLink activeClassName={\"active\"} className=\"header__btn-link btn btn-outline-light\" to={PATH_CREATE_ANNOUNCEMENT}>\r\n             \r\n        </NavLink>\r\n    </>\r\n\r\n    const authMenu = <>\r\n        <div ref={ref} onClick={toggleIsActiveAuthMenu} className=\"dropdown\">\r\n            <Button className={\"btn-warning dropdown-toggle\"} label={name}/>\r\n            <div className={`dropdown-menu ${isActiveAuthMenu && \"show\"}`}>\r\n                <Link to={PATH_MY_ANNOUNCEMENTS} className=\"dropdown-item\">\r\n                     \r\n                </Link>\r\n                <Link to={PATH_SETTINGS} className=\"dropdown-item\">\r\n                    \r\n                </Link>\r\n                <div className=\"dropdown-divider\"/>\r\n                <div onClick={() => setIsActiveLogoutAlert(true)} className=\"dropdown-item\"></div>\r\n            </div>\r\n        </div>\r\n    </>\r\n\r\n    return (\r\n        <div className=\"navbar navbar-dark bg-info pl-5 pr-5\">\r\n            <div className=\"d-flex\">\r\n                <Logo/>\r\n                <div className=\"header__navigation-wrapper navbar-nav flex-row ml-5\">\r\n                    {linkConfigs.map(({path, label}) =>\r\n                        <NavLink activeClassName={\"active\"} className=\"nav-link ml-3\" to={path}>\r\n                            {label}\r\n                        </NavLink>)}\r\n                </div>\r\n            </div>\r\n            <div className=\"header__inner-wrapper\">\r\n                {isAuth ? authMenu : <AuthorizationModalWindow alertCloseHandler={() => setIsActiveAuthModal(false)} isActiveFromProps={isActiveAuthModal}/>}\r\n                {isAuth ? linkToCreateAnnouncement : alertCreateAnnouncement()}\r\n            </div>\r\n            {isActiveLogoutAlert && alertLogout()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","export const getSearchedDataSelector = (state: any) => state.searchBoxState.searchedData\r\nexport const getSearchConfigCategorySelector = (state: any) => state.searchBoxState.searchConfig.categoryId\r\nexport const getSearchConfigSubwayStationsSelector = (state: any) => state.searchBoxState.searchConfig.subwayStations\r\nexport const getSearchConfigSearchValueSelector = (state: any) => state.searchBoxState.searchConfig.searchValue\r\nexport const getIsFetchingSearchReducerSelector = (state: any) => state.searchBoxState.isFetching\r\nexport const getCurrentPageSearchReducerSelector = (state: any) => state.searchBoxState.currentPage\r\nexport const getTotalNumOfPageSearchReducerSelector = (state: any) => state.searchBoxState.totalNumOfPages","import React, {useCallback, useState} from 'react';\nimport \"./searchBoxStyles.css\";\nimport Select from \"./select/select\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getAnnouncementsByFiltersThunk} from \"../../redux/thunks/thunks\";\nimport Button from \"../button/button\";\nimport {\n    getCategoriesDataSelector,\n    getSubwayStationsDataSelector\n} from \"../../redux/reducers/mainState/mainStateSelectors\";\nimport {\n    getIsFetchingSearchReducerSelector,\n    getSearchConfigCategorySelector,\n    getSearchConfigSearchValueSelector,\n    getSearchConfigSubwayStationsSelector\n} from \"../../redux/reducers/searchBoxState/searchBoxStateSelectors\";\nimport {useHistory} from 'react-router-dom';\nimport {\n    resetToInitialStateSearchReducerAC,\n    setSearchConfigCategoryAC,\n    setSearchConfigSearchValueAC,\n    setSearchConfigSubwayStationsAC\n} from '../../redux/reducers/searchBoxState/searchBoxStateActionCreators';\n\nconst SearchBox = (props: any) => {\n\n    const {placeHolder, className} = props\n\n    //------USE-HISTORY-----//\n    const history = useHistory()\n\n    //------MAP-STATE-TO-PROPS-----//\n    const subwayStationsData = useSelector(getSubwayStationsDataSelector)\n    const categoriesData = useSelector(getCategoriesDataSelector)\n    const isFetching = useSelector(getIsFetchingSearchReducerSelector)\n    const searchConfigCategory = useSelector(getSearchConfigCategorySelector)\n    const searchConfigSubwayStation = useSelector(getSearchConfigSubwayStationsSelector)\n    const searchConfigSearchValue = useSelector(getSearchConfigSearchValueSelector)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getAnnouncementsByFilters = useCallback(() => dispatch(getAnnouncementsByFiltersThunk()), [dispatch])\n    const resetToInitialStateSearchReducer = useCallback(() => dispatch(resetToInitialStateSearchReducerAC()), [dispatch])\n    const setSearchConfigCategory = useCallback((category) => dispatch(setSearchConfigCategoryAC(category)), [dispatch])\n    const setSearchConfigSubwayStation = useCallback((station) => dispatch(setSearchConfigSubwayStationsAC(station)), [dispatch])\n    const setSearchConfigSearchValue = useCallback((value) => dispatch(setSearchConfigSearchValueAC(value)), [dispatch])\n\n    //-----LOCAL-STATE-----//\n    const [searchValue, setSearchValue] = useState(searchConfigSearchValue)\n\n\n    const selectItemOnChangeHandler = (field: \"category\" | \"subway\", selectItem: any, setIsActiveSelect:Function) => {\n        field === \"category\" && setSearchConfigCategory(selectItem)\n        field === \"subway\" && setSearchConfigSubwayStation(selectItem)\n        setIsActiveSelect(false)\n    }\n\n    const searchOnChangeHandler = (event?: any) => {\n        const { target : {value = \"\"} = {} } = event || {}\n        setSearchValue(value)\n    }\n\n    const onClickFindBtnHandler = () => {\n        getAnnouncementsByFilters()\n        resetToInitialStateSearchReducer()\n        setSearchValue(\"\")\n        history.push(searchConfigCategory.category)\n    }\n\n  return (\n      <div className={`searchBox d-flex col-lg-12 input-group justify-content-center ${className}`}>\n          <Select className={\"col-lg-2 p-0 input-group-prepend\"} onChangeHandlerSelectItem={(selectItem: any, handler: any) => selectItemOnChangeHandler(\"subway\", selectItem, handler)} value={searchConfigSubwayStation.label} selectItems={subwayStationsData} placeHolder={\" \"}/>\n          <div className=\"searchBox__search col-lg-5 p-0 d-flex\">\n              <input onBlur={({target: {value}}) => setSearchConfigSearchValue(value)} onChange={searchOnChangeHandler}\n                     className={\"searchBox__search-input w-100 form-control\"}\n                     value={searchValue} type=\"text\"\n                     placeholder={placeHolder}/>\n              <div onClick={() => setSearchValue(\"\")} className={\"searchBox__search-clear\"}>&#10006;</div>\n          </div>\n          <Select className={\"col-lg-2 p-0 input-group-append\"} onChangeHandlerSelectItem={(selectItem: any, handler: any) => selectItemOnChangeHandler(\"category\", selectItem, handler)} value={searchConfigCategory.label} selectItems={categoriesData} placeHolder={\"\"}/>\n          <div className=\"input-group-append\">\n              <Button className={\"btn-success\"} onClickHandler={onClickFindBtnHandler} label={\"\"} isDisabled={isFetching}/>\n              <Button className={\"btn-danger\"} onClickHandler={resetToInitialStateSearchReducer} label={\"\"} isDisabled={false}/>\n          </div>\n\n      </div>\n  );\n}\n\nexport default SearchBox;\n","export const getLastAnnouncementsSelector = (state: any) => state.feedState.lastAnnouncements\r\nexport const getIsFetchingFeedReducerSelector = (state: any) => state.feedState.isFetching\r\nexport const getDescriptionSalamRuSelector = (state: any) => state.feedState.descriptionSalamRu\r\n","import React from 'react';\nimport \"./imageStyles.css\"\n\ntype ImagePropsType = {\n    photo: string\n    className?: string\n    onClickHandler?: any\n}\n\nconst Image = (props: ImagePropsType) => {\n\n    const {photo, className, onClickHandler = null} = props\n\n  return <div onClick={onClickHandler} style={{backgroundImage: `url(${photo})`}} className={`image ${className}`}/>\n}\n\nexport default Image;\n","import React from 'react';\nimport \"./announcementStyles.css\"\nimport {NavLink} from \"react-router-dom\";\nimport Image from \"../image/image\";\n\ntype AnnouncementPropsType = {\n    photo: string\n    id: number\n    name: string\n    category: string\n    price: number\n    creationDate: string\n    subwayStation: string\n    hasLike: boolean\n    className?: string\n}\n\nconst Announcement = (props: AnnouncementPropsType) => {\n\n    const {photo, name, creationDate, category, className, price, subwayStation, id} = props\n\n\n  return (\n      <div className={`border text-center text-white border-dark mb-3 mr-3 p-0 ${className}`}>\n              <NavLink to={`${category}/${id}`}>\n          <div className=\"card-header p-0\">\n                  <Image photo={photo}/>\n          </div>\n              </NavLink>\n              <div className={\"card-inner-wrapper d-flex flex-column justify-content-between\"}>\n                  <div className=\"card-body d-flex flex-column justify-content-between\">\n                      <h5 className=\"card-title text-primary\">{name}</h5>\n                      <h6 className=\"card-text text-dark\">{`: ${price} .`}</h6>\n                      <h6 className=\"card-text text-dark\">{`: ${subwayStation}`}</h6>\n                  </div>\n                  <div className=\"card-footer\">\n                      <small className=\"text-muted\">{` : ${creationDate}`}</small>\n                  </div>\n              </div>\n      </div>\n  )\n}\n\nexport default Announcement;\n","import React from 'react';\nimport \"./footerStyles.css\"\nimport { NavLink } from 'react-router-dom';\nimport Logo from \"../logo/logo\";\n\nconst Footer = (props: any) => {\n\n  const linkConfigs = [\n      {path: \"/contacts\", label: \"\"},\n      {path: \"/contacts\", label: \"\"},\n      {path: \"/contacts\", label: \"\"}\n  ]\n\n  return (\n      <div className=\"navbar navbar-dark bg-info pl-5 pr-5\">\n          <Logo/>\n          <div className=\"navbar-nav flex-row\">\n            {linkConfigs.map( ({path, label}) =>\n              <NavLink className=\"nav-link ml-3\" to={path}>\n                {label}\n              </NavLink> )}\n          </div>\n          <NavLink className=\"btn btn-outline-light\" to={\"/createAnnouncement\"}>\n               \n          </NavLink>\n      </div>\n  );\n}\n\nexport default Footer;\n","import React, {useCallback, useEffect} from 'react';\nimport \"./feedPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport SearchBox from \"../../components/searchBox/searchBox\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getLastAnnouncementsThunk} from \"../../redux/thunks/thunks\";\nimport {\n    getDescriptionSalamRuSelector,\n    getIsFetchingFeedReducerSelector,\n    getLastAnnouncementsSelector\n} from \"../../redux/reducers/feedState/feedStateSelectors\";\nimport Announcement from \"../../components/announcement/announcement\";\nimport Footer from \"../../components/footer/footer\";\n\n\nconst FeedPage = (props: any) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const {lastAnnouncements, isFetching, descriptionSalamRu} = useSelector((state) => ({\n        lastAnnouncements: getLastAnnouncementsSelector(state),\n        isFetching: getIsFetchingFeedReducerSelector(state),\n        descriptionSalamRu: getDescriptionSalamRuSelector(state)\n    }))\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getLastAnnouncements = useCallback(() => dispatch(getLastAnnouncementsThunk()), [dispatch])\n\n    //----COMPONENT-DID-MOUNT-LIFECYCLE----//\n    useEffect(() => {\n        getLastAnnouncements()\n    }, [])\n\n    return (\n        <div className={\"feedPage\"}>\n            <Header/>\n            <div className=\"feedPage__container container-lg\">\n                <div className=\"feedPage__searchBox\">\n                    <SearchBox placeHolder={\"  \"}/>\n                </div>\n                {/*<div className=\"feedPage__category-cards\">*/}\n                {/*    */}\n                {/*</div>*/}\n                <div className=\"feedPage__lastAnnouncements mb-5\">\n                        <h2 className=\"display-5 jumbotron p-2\"> </h2>\n                    {/*<h2 className=\"feedPage__lastAnnouncements-title\"> </h2>*/}\n                    <div className=\"row justify-content-center\">\n                        {lastAnnouncements.map((lastAnnouncement: any) => <Announcement {...lastAnnouncement}/>)}\n                    </div>\n                </div>\n                <div className=\"jumbotron p-4\">\n                    <h1 className=\"display-5\"> </h1>\n                    <hr className=\"my-4\"/>\n                        <p className=\"lead\">Lorem ipsum dolor sit amet,\n                            consectetur adipisicing elit.\n                            Impedit minima perferendis tenetur?\n                            Delectus dolores eaque est, explicabo laboriosam minus quia ut vel veniam.\n                            Dignissimos fuga, quas quasi quisquam saepe sint.\n                        </p>\n                </div>\n                {/*<div className=\"feedPage__descriptionSalamRu\">*/}\n                {/*    <h2 className=\"feedPage__descriptionSalamRu-title\"> </h2>*/}\n                {/*    <p className=\"feedPage__descriptionSalamRu-description\">*/}\n                {/*        Lorem ipsum dolor sit amet,*/}\n                {/*        consectetur adipisicing elit.*/}\n                {/*        Impedit minima perferendis tenetur?*/}\n                {/*        Delectus dolores eaque est, explicabo laboriosam minus quia ut vel veniam.*/}\n                {/*        Dignissimos fuga, quas quasi quisquam saepe sint.*/}\n                {/*    </p>*/}\n                {/*</div>*/}\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default FeedPage;\n","import React from 'react';\nimport \"./contactsPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport Footer from \"../../components/footer/footer\";\n\n\nconst ContactsPage = (props: any) => {\n\n    return (\n        <div className={\"contactsPage fullHeightContent\"}>\n            <Header/>\n\n            <div className=\"contactsPage__container container-lg pb-5 pt-5 text-center\">\n                <div className=\"jumbotron p-4\">\n                    <h1 className=\"display-5\"> !</h1>\n                    <hr className=\"my-4\"/>\n                    <p className=\"lead\">Lorem ipsum dolor sit amet,\n                        consectetur adipisicing elit.\n                        Impedit minima perferendis tenetur?\n                        Delectus dolores eaque est, explicabo laboriosam minus quia ut vel veniam.\n                        Dignissimos fuga, quas quasi quisquam saepe sint.\n                    </p>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default ContactsPage;\n","import React from 'react';\nimport {useSelector} from \"react-redux\";\nimport {getIsAuthSelector} from \"../redux/reducers/authorizationState/authorizationStateSelectors\";\nimport {Redirect} from 'react-router-dom';\nimport {PATH_FEED} from \"../app/App\";\n\nconst withAuthRedirectHoc = (Component: any) => {\n    return (props: any) => {\n        const isAuth = useSelector(getIsAuthSelector)\n        return !isAuth ? <Redirect to={PATH_FEED}/> : <Component {...props}/>\n    }\n}\n\nexport default withAuthRedirectHoc;\n","import React from 'react';\nimport \"./imagePickerStyles.css\"\n\ntype ImagePickerPropsType = {\n    onLoadHandler: Function\n    className?: string\n}\n\nconst ImagePicker = (props: ImagePickerPropsType) => {\n\n    const {onLoadHandler, className} = props\n\n    const onChangeFileHandler = (event: any) => {\n        const file = event.target.files[0]\n        const {name = `uploadUserImg${Date.now()}`} = file || {}\n        const reader = new FileReader();\n\n        reader.onload = () => {\n            const {result} = reader\n            onLoadHandler(result, name)\n        }\n\n        file && reader.readAsDataURL(file)\n    }\n\n  return <div className={`h-100 w-100 ${className}`}>\n      <input onChange={onChangeFileHandler} type=\"file\" className={`imagePicker`}/>\n      <div className=\"h-100 w-100 d-flex justify-content-center align-items-center border border-dark alert-dark\">\n         <h2 className={\"display-4\"}>+</h2>\n      </div>\n  </div>\n}\n\nexport default ImagePicker;\n","import React, {ChangeEvent, useCallback, useEffect} from 'react';\nimport \"./settingsPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {postLogoutOrDeleteUser, postSettingByFieldThunk} from \"../../redux/thunks/thunks\";\nimport Footer from \"../../components/footer/footer\";\nimport {SettingsFieldType} from '../../redux/reducers/settingsState/settingsState';\nimport TextInput from \"../../components/textInput/textInput\";\nimport Button from \"../../components/button/button\";\nimport Image from \"../../components/image/image\";\nimport {getSettingsFieldValueByFieldSelector} from '../../redux/reducers/settingsState/settingsStateSelectors';\nimport AlertModalWindow from \"../../components/modalWindow/alertModalWindow/alertModalWindow\";\nimport {setIsValidFormReducerAC, seValueFormReducerAC} from \"../../redux/reducers/formState/formStateActionCreators\";\nimport {getFieldsByPageFormReducerSelector} from \"../../redux/reducers/formState/formStateSelectors\";\nimport withAuthRedirectHoc from '../../hocs/withAuthRedirectHoc';\nimport ImagePicker from \"../../components/imagePicker/imagePicker\";\n\nconst SettingsPage = (props: any) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const formState = useSelector((state) => getFieldsByPageFormReducerSelector(state, \"settings\"))\n    const {avatar, name, phone, login,} = formState\n\n    const settingsState = useSelector( (state) => ({\n        avatar: getSettingsFieldValueByFieldSelector(state, \"avatar\"),\n        name: getSettingsFieldValueByFieldSelector(state, \"name\"),\n        phone: getSettingsFieldValueByFieldSelector(state, \"phone\"),\n        login: getSettingsFieldValueByFieldSelector(state, \"login\")\n    }) )\n    const settingsStateEntries = Object.entries(settingsState)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const postSettingByField = useCallback((data, field) => dispatch(postSettingByFieldThunk(data, field)), [dispatch])\n    const logoutUser = useCallback(() => dispatch(postLogoutOrDeleteUser(\"logout\")), [dispatch])\n    const deleteUser = useCallback(() => dispatch(postLogoutOrDeleteUser(\"delete\")), [dispatch])\n    const seValueFormReducer = useCallback((value, field) => dispatch(seValueFormReducerAC(value, field, \"settings\")), [dispatch])\n    const setIsValidFormReducer = useCallback((field) => dispatch(setIsValidFormReducerAC(field, \"settings\")), [dispatch])\n\n    //------DID-MOUNT-LIFE-CYCLE-----//\n    useEffect(() => {\n        settingsStateEntries.forEach( ([key, value]) => seValueFormReducer(value, key) )\n    }, [])\n\n    const onLoadImageHandler = (image: any, imageName: string) => {\n        const postData = {photo: image, name: imageName}\n        seValueFormReducer(image, \"avatar\")\n        postSettingByField(postData, \"avatar\")\n    }\n\n    // -     .      .\n    const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>, field: SettingsFieldType) => {\n        console.log(\"onChangeHandler\", field)\n        const {currentTarget: {value}} = event\n        seValueFormReducer(value, field)\n    }\n\n    // -        \n    const onClickHandler = (field: SettingsFieldType) => {\n        // @ts-ignore\n        const {isValid, value} = formState[field]\n        // @ts-ignore\n        const valueFromSettingsState = settingsState[field]\n        console.log(\"onClickHandler\", isValid)\n        const postData = {[field] : value}\n        isValid && value !== valueFromSettingsState && postSettingByField(postData, field)\n    }\n\n    //TODO       formState!!\n    //       \n    const getInputsConfig = () => {\n        return [\n            {\n                field: \"name\",\n                label: \"\",\n                inputType: \"text\",\n                value: name.value,\n                isValid: name.isValid\n            },\n            {\n                field: \"login\",\n                label: \"\",\n                inputType: \"text\",\n                value: login.value,\n                isValid: login.isValid\n            },\n            {\n                field: \"phone\",\n                label: \" \",\n                inputType: \"tel\",\n                value: phone.value,\n                isValid: phone.isValid\n            },\n        ]\n    }\n\n    return (\n        <div className={\"settingsPage fullHeightContent\"}>\n            <Header/>\n            <div className=\"container-lg pb-5 pt-5\">\n                <h2 className=\"display-5 jumbotron p-2 mb-5\"> </h2>\n                <div className=\"d-flex justify-content-around\">\n                    <div className=\"settingsPage__settings-wrapper\">\n\n                        <div className=\"settingsPage__setting-avatar w-100\">\n                            <Image photo={avatar.value}/>\n                            <ImagePicker className={\"position-absolute fixed-top opacity-0\"} onLoadHandler={onLoadImageHandler}/>\n                        </div>\n\n                        <div className=\"settingsPage__logouOrDel-wrapper\">\n                            <AlertModalWindow openBtnElement={<Button className={\"btn-warning w-100 mb-4\"} label={\"  \"}/>}\n                                              btnOneConfiguration={{btnOneLabel: \"\"}}\n                                              btnTwoConfiguration={{btnTwoLabel: \"\", btnTwoHandler:logoutUser }}\n                                              alertText={\"  ?\"}/>\n\n                            <AlertModalWindow openBtnElement={<Button className={\"btn-danger w-100\"} label={\" \"}/>}\n                                              btnOneConfiguration={{btnOneLabel: \"\"}}\n                                              btnTwoConfiguration={{btnTwoLabel: \"\", btnTwoHandler:deleteUser }}\n                                              alertText={\" ?\"}/>\n                        </div>\n\n                    </div>\n                    <div className=\"settingsPage__settings-wrapper col-lg-5\">\n                        { getInputsConfig().map( ({field, ...restConfig}) => <>\n                            <div className=\"settingsPage__setting input-group w-100\">\n                                <TextInput className={\"w-75\"} key={field} {...restConfig}\n                                           onBlurHandler={() => setIsValidFormReducer(field)}\n                                           onChangeHandler={(event: ChangeEvent<HTMLInputElement>) => onChangeHandler(event, field)}/>\n                                <Button className={\"input-group-append btn-success align-self-end\"} onClickHandler={() => onClickHandler(field)} label={\"\"}/>\n                            </div>\n                            <hr className=\"my-4\"/> </>) }\n                    </div>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default withAuthRedirectHoc(SettingsPage);\n","export const getAnnouncementSelector = (state: any) => state.announcementState.announcement\r\nexport const getIsFetchingAnnouncementReducerSelector = (state: any) => state.announcementState.isFetching\r\n","import * as React from \"react\"\r\nimport \"./sliderStyle.css\"\r\nimport {useState} from \"react\";\r\n\r\n\r\ntype NextOrPrevArgType = \"next\" | \"prev\" | string\r\ntype SliderPropsTypes = {\r\n    children : any\r\n    className?: string\r\n}\r\n\r\nfunction Slider(props: SliderPropsTypes) {\r\n\r\n    const {children, className} = props\r\n\r\n    //-------------LOCAL-STATE--------------//\r\n    const [currentSlide, setCurrentSlide] = useState(0)\r\n\r\n    const isLastSlide = () => currentSlide === children[\"length\"] - 1\r\n    const isFirstSlide = () => currentSlide === 0\r\n\r\n    const changeSlide: any = (nextOrPrev: NextOrPrevArgType) => {\r\n        console.log(\"changeSlide\", nextOrPrev)\r\n        if(nextOrPrev === \"next\") setCurrentSlide(currentSlide + 1)\r\n        if(nextOrPrev === \"prev\") setCurrentSlide(currentSlide - 1)\r\n    }\r\n\r\n    const transformStyle = {\r\n        transform: `translateX( ${currentSlide * -100}% )`\r\n    }\r\n\r\n    return (\r\n        <div className={`slider ${className}`}>\r\n                {React.Children.map(children, child =>\r\n                    <div style={transformStyle} className={`slider__page`}>\r\n                        { React.cloneElement(child) }\r\n                    </div>)}\r\n            {!isFirstSlide() && <div onClick={() => changeSlide(\"prev\")} className=\"carousel-control carousel-control-prev\">\r\n                <span className=\"carousel-control-prev-icon\"/>\r\n            </div>}\r\n            {!isLastSlide() && <div onClick={() => changeSlide(\"next\")} className=\"carousel-control carousel-control-next\">\r\n                <span className=\"carousel-control-next-icon\"/>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default React.forwardRef(Slider)","import React, {useCallback, useEffect} from 'react';\nimport \"./announcementPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getAnnouncementByCategoryAndIdThunk} from \"../../redux/thunks/thunks\";\nimport Footer from \"../../components/footer/footer\";\nimport {useHistory, useParams} from 'react-router-dom';\nimport {\n    getAnnouncementSelector,\n    getIsFetchingAnnouncementReducerSelector\n} from '../../redux/reducers/announcementState/announcementStateSelectors';\nimport Button from \"../../components/button/button\";\nimport Slider from \"../../components/slider/slider\";\nimport Image from \"../../components/image/image\";\n\n\nconst AnnouncementPage = (props: any) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const isFetching = useSelector(getIsFetchingAnnouncementReducerSelector)\n    const {\n        photos = [],\n        name = \"\",\n        price = 0,\n        description = \"\",\n        subwayStation = \"\",\n        contacts : {\n            user = \"\",\n            phone = \"\",\n        } = {},\n        creationDate = \"\",\n    } = useSelector(getAnnouncementSelector)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getAnnouncementByCategoryAndId = useCallback(() => dispatch(getAnnouncementByCategoryAndIdThunk(category, id)), [dispatch])\n\n    //------CATCH-PARAMS-FROM-URL-----//\n    const {category, id} = useParams()\n\n    const {goBack} = useHistory()\n\n    //----COMPONENT-DID-MOUNT-LIFECYCLE----//\n    useEffect(() => {\n        getAnnouncementByCategoryAndId()\n    }, [])\n\n    return (\n        <div className={\"announcementPage fullHeightContent\"}>\n            <Header/>\n            <Button className={\"arrowBack\"} onClickHandler={goBack} label={\"\"}/>\n            <div className=\"announcementPage__container container-lg pt-5 pb-5\">\n                <h2 className=\"announcementPage__name text-left m-0\">{name}</h2>\n                <hr className=\"my-4\"/>\n            <div className=\"announcementPage__photoAndInfo-wrapper mb-5\">\n                <div className=\"announcementPage__photo-slider float-left\">\n                    <Slider>\n                        {photos.map( (photo:string) => <Image photo={photo}/> ) }\n                    </Slider>\n                </div>\n\n                <div className=\"announcementPage__info-wrapper ml-5 col-lg-5 p-0\">\n                    <h3 className=\"announcementPage__info-price bg-warning p-2 m-0 text-left\">{`: ${price} .`}</h3>\n                    <hr className=\"my-4\"/>\n                    <h5 className=\"announcementPage__info-location text-left alert alert-warning\">{`: ${subwayStation}`}</h5>\n                    <hr className=\"my-4\"/>\n                    <div className=\"announcementPage__info-inner-wrapper alert alert-success\">\n                        <h5 className=\"announcementPage__info-name text-left\">: {user}</h5>\n                        <h5 className=\"announcementPage__info-name text-left\">: {phone}</h5>\n                    </div>\n                    <hr className=\"my-4\"/>\n                    <h5 className=\"announcementPage__creationDate alert alert-dark\">  : {creationDate}</h5>\n                </div>\n            </div>\n                <div className=\"announcementPage__description alert alert-primary\">\n                    <h5 className={\"text-left\"}>:</h5>\n                    <p>{description}</p>\n                </div>\n\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default AnnouncementPage;\n","export const getMyAnnouncementsSelector = (state: any) => state.myAnnouncementsState.myAnnouncements\r\nexport const getIsFetchingMyAnnouncementsReducerSelector = (state: any) => state.myAnnouncementsState.isFetching\r\nexport const getCurrentPageMyAnnouncementsReducerSelector = (state: any) => state.myAnnouncementsState.currentPage\r\nexport const getTotalNumOfPagesMyAnnouncementsReducerSelector = (state: any) => state.myAnnouncementsState.totalNumOfPages\r\n","import React, {useEffect} from 'react';\n\nconst useInfinityScroll = (handler: Function) => {\n\n    const scrollHandler = (event: any) => {\n\n        const currentHeight = Math.ceil(window.innerHeight + window.scrollY)\n        const allHeight = Math.max(\n            document.body.scrollHeight, document.documentElement.scrollHeight,\n            document.body.offsetHeight, document.documentElement.offsetHeight,\n            document.body.clientHeight, document.documentElement.clientHeight\n        )\n\n        if(currentHeight >= allHeight) {\n            handler(event)\n        }\n    }\n\n  useEffect(() => {\n        document.addEventListener('scroll', scrollHandler)\n        return () => document.removeEventListener('scroll', scrollHandler)\n      }, [handler]\n  );\n}\n\nexport default useInfinityScroll;\n","import React, {useCallback, useEffect} from 'react';\nimport \"./myAnnouncementsPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Footer from \"../../components/footer/footer\";\nimport {\n    getIsFetchingMyAnnouncementsReducerSelector,\n    getMyAnnouncementsSelector,\n    getCurrentPageMyAnnouncementsReducerSelector,\n    getTotalNumOfPagesMyAnnouncementsReducerSelector\n} from '../../redux/reducers/myAnnouncementState/myAnnouncementStateSelectors';\nimport {getMyAnnouncementsThunk, postDeleteAnnouncementThunk} from \"../../redux/thunks/thunks\";\nimport Announcement from \"../../components/announcement/announcement\";\nimport useInfinityScroll from \"../../hooks/useInfinityScroll\";\nimport {setCurrentPageMyAnnouncementReducerAC} from \"../../redux/reducers/myAnnouncementState/myAnnouncementStateActionCreators\";\nimport Button from \"../../components/button/button\";\nimport withAuthRedirectHoc from \"../../hocs/withAuthRedirectHoc\";\n\nconst MyAnnouncementsPage = (props: any) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const myAnnouncements = useSelector(getMyAnnouncementsSelector)\n    const isFetching = useSelector(getIsFetchingMyAnnouncementsReducerSelector)\n    const currentPage = useSelector(getCurrentPageMyAnnouncementsReducerSelector)\n    const totalNumOfPages = useSelector(getTotalNumOfPagesMyAnnouncementsReducerSelector)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getMyAnnouncements = useCallback((withConcat = false) => dispatch(getMyAnnouncementsThunk(withConcat)), [dispatch])\n    const setCurrentPage = useCallback(() => dispatch(setCurrentPageMyAnnouncementReducerAC()), [dispatch])\n    const postDeleteAnnouncement = useCallback((id) => dispatch(postDeleteAnnouncementThunk(id)), [dispatch])\n\n    //----COMPONENT-DID-MOUNT-LIFECYCLE----//\n    useEffect(() => {\n        getMyAnnouncements()\n    }, [])\n\n    //------INFINITY-SCROLL------//\n    const infinityScrollHandler = (event: any) => {\n        if(currentPage !== totalNumOfPages) {\n            setCurrentPage()\n            getMyAnnouncements(true)\n        }\n    }\n    useInfinityScroll(infinityScrollHandler)\n\n\n    const onClickBtnUpHandler = () => window.scrollTo(0, 0)\n\n    return (\n        <div className={\"myAnnouncements fullHeightContent\"}>\n            <Header/>\n            <div className=\"myAnnouncements__container container-lg pt-5 pb-5\">\n                <h2 className=\"display-5 jumbotron p-2\"> </h2>\n                {myAnnouncements.map( ({id, ...restMyAnnouncement}: any) =>\n                    <div key={id} className=\"d-flex mb-3\">\n                        <Announcement className={\"horizontalCard\"} id={id} {...restMyAnnouncement}/>\n                        <Button className={\"btn-danger align-self-stretch mb-3 align-items-center d-flex font-weight-bold\"} isDisabled={isFetching} onClickHandler={() => postDeleteAnnouncement(id)}\n                                label={\" \"}/>\n                    </div>) }\n                {myAnnouncements.length > 5 && <Button className={\"myAnnouncements__btn-up\"} onClickHandler={onClickBtnUpHandler} label={\"\"}/>}\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default withAuthRedirectHoc(MyAnnouncementsPage);\n","import React, {ChangeEvent, useCallback, useEffect} from 'react';\nimport \"./createAnnouncementStyles.css\"\nimport Header from \"../../components/header/header\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {postNewAnnouncementThunk} from \"../../redux/thunks/thunks\";\nimport Footer from \"../../components/footer/footer\";\nimport TextInput from \"../../components/textInput/textInput\";\nimport Select from \"../../components/searchBox/select/select\";\nimport Button from \"../../components/button/button\";\nimport Image from \"../../components/image/image\";\nimport {\n    getCategoriesDataSelector,\n    getIsFetchingMainStateSelector,\n    getSubwayStationsDataSelector\n} from \"../../redux/reducers/mainState/mainStateSelectors\";\nimport {\n    checkIsReadyToSendByPageFormReducerAC, resetToInitialByPageFormReducerAC,\n    setIsValidFormReducerAC,\n    seValueFormReducerAC\n} from \"../../redux/reducers/formState/formStateActionCreators\";\nimport {getFieldsByPageFormReducerSelector} from \"../../redux/reducers/formState/formStateSelectors\";\nimport {prepareFormStateByPageForSend} from \"../../redux/reducers/formState/formState\";\nimport {getSettingsFieldValueByFieldSelector} from \"../../redux/reducers/settingsState/settingsStateSelectors\";\nimport withAuthRedirectHoc from \"../../hocs/withAuthRedirectHoc\";\nimport ImagePicker from \"../../components/imagePicker/imagePicker\";\n\ntype CreateAnnouncementFieldsType =\n    \"photos\"\n    | \"name\"\n    | \"price\"\n    | \"category\"\n    | \"description\"\n    | \"subway\"\n    | \"phone\"\n    | string\n\nconst CreateAnnouncement = (props: any) => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const subwayStationsData = useSelector(getSubwayStationsDataSelector)\n    const categoriesData = useSelector(getCategoriesDataSelector)\n    const phoneRedux = useSelector( (state) => getSettingsFieldValueByFieldSelector(state, \"phone\"))\n    const formState = useSelector((state) => getFieldsByPageFormReducerSelector(state, \"createAnnouncement\"))\n    const {\n        photos, name,\n        price, category,\n        description,\n        phone, subway,\n        isReadyToSend\n    } = formState\n    const isFetching = useSelector(getIsFetchingMainStateSelector)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const postNewAnnouncement = useCallback((data) => dispatch(postNewAnnouncementThunk(data)), [dispatch])\n    const seValueFormReducer = useCallback((value, field) => dispatch(seValueFormReducerAC(value, field, \"createAnnouncement\")), [dispatch])\n    const setIsValidFormReducer = useCallback((field) => dispatch(setIsValidFormReducerAC(field, \"createAnnouncement\")), [dispatch])\n    const checkIsReadyToSend = useCallback(() => dispatch(checkIsReadyToSendByPageFormReducerAC(\"createAnnouncement\")), [dispatch])\n    const resetToInitialByPageFormReducer = useCallback(() => dispatch(resetToInitialByPageFormReducerAC(\"createAnnouncement\")), [dispatch])\n\n    //------DID-MOUNT-LIFE-CYCLE-----//\n    useEffect(() => {\n        seValueFormReducer(phoneRedux, \"phone\")\n    }, [])\n\n    //------DID-UPDATE-LIFE-CYCLE-----//\n    useEffect(() => {\n        if(isReadyToSend) {\n            const condition = (postData: any, key: any, value: any) => {\n                key === \"category\" || key === \"subway\" ? postData[key] = value.id : postData[key] = value\n                return postData\n            }\n            const postData = prepareFormStateByPageForSend(formState)(condition)\n            postNewAnnouncement(postData)\n        }\n    }, [isReadyToSend])\n\n    const selectItemOnChangeHandler = (field: \"category\" | \"subway\", selectItem: any, setIsActiveSelect: Function) => {\n        seValueFormReducer(selectItem, field)\n        setIsActiveSelect(false)\n    }\n\n    const onLoadImageHandler = (image: any, imageName: string) => {\n        const value = photos.value.concat({photo: image, name: imageName})\n        seValueFormReducer(value, \"photos\")\n    }\n\n    // -     .      .\n    const onChangeHandler = (event: React.ChangeEvent<HTMLInputElement>, field: CreateAnnouncementFieldsType) => {\n        console.log(\"onChangeHandler\", field)\n        const {currentTarget: {value}} = event\n        seValueFormReducer(value, field)\n    }\n\n    const deleteLoadedImage = (imageName: string) => {\n        const newPhotosValue = photos.value.filter( ({photo, name}: any) => name !== imageName)\n        seValueFormReducer(newPhotosValue, \"photos\")\n    }\n\n    //       \n    const getInputsParamsConfig = () => {\n        return [\n            {\n                field: \"name\",\n                label: \"\",\n                inputType: \"text\",\n                value: name.value,\n                isValid: name.isValid\n            },\n            {\n                field: \"price\",\n                label: \"\",\n                inputType: \"number\",\n                value: price.value,\n                isValid: price.isValid\n            },\n            {\n                field: \"description\",\n                label: \"\",\n                inputType: \"textArea\",\n                value: description.value,\n                isValid: description.isValid\n            },\n        ]\n    }\n\n    // const {name, subway, photos, description, phone, category, price} = state\n\n    const getErrorClassName = (field: \"category\" | \"subway\") =>\n        !formState[field].isValid && \"createAnnouncement__title-error\"\n\n    return (\n        <div className={\"createAnnouncement fullHeightContent\"}>\n            <Header/>\n            <div className=\"createAnnouncement__container container-lg pt-5\">\n                <h1 className=\"display-5 jumbotron p-2 mb-5\"> </h1>\n                <div className=\"createAnnouncement__category d-flex\">\n                    <h4 className={`createAnnouncement__category-title col-lg-3 text-left p-0 ${getErrorClassName(\"category\")}`}>\n                        \n                    </h4>\n                    <Select className={\"col-lg-4\"} onBlurHandler={() => setIsValidFormReducer(\"category\")}\n                        onChangeHandlerSelectItem={(selectItem: any, handler: any) => selectItemOnChangeHandler(\"category\", selectItem, handler)}\n                        value={category.value.label} selectItems={categoriesData} placeHolder={\" \"}/>\n                </div>\n                <hr className=\"my-4\"/>\n                <div className=\"createAnnouncement__params d-flex\">\n                    <h4 className=\"createAnnouncement__params-title col-lg-3 text-left p-0\"></h4>\n                    <div className=\"col-lg-4 p-0\">\n                        {getInputsParamsConfig().map(({field, ...restConfig}) =>\n                            <TextInput className={\"mb-3\"} key={field} {...restConfig}\n                                       onBlurHandler={() => setIsValidFormReducer(field)}\n                                       onChangeHandler={(event: ChangeEvent<HTMLInputElement>) => onChangeHandler(event, field)}/>)}\n\n                        <div className=\"createAnnouncement__params-photos position-relative\">\n                            <div className=\"createAnnouncement__params-photos-label mb-3\">\n                                <span>{` ${photos.value.length}  5`}</span>\n                            </div>\n                            <div style={{height: \"73px\"}} className=\"createAnnouncement__params-photos-files d-flex\">\n                                {photos.value.map( ({photo, name}: any) => <Image onClickHandler={() => deleteLoadedImage(name)} className={\"createAnnouncement__params-photos-files-file col-lg-4 mr-2\"} photo={photo}/> )}\n                                {photos.value.length < 5 &&\n                                <ImagePicker className={\"col-lg-4 p-0\"} onLoadHandler={onLoadImageHandler}/>}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <hr className=\"my-4\"/>\n                <div className=\"createAnnouncement__location d-flex\">\n                    <h4 className={`createAnnouncement__location-title col-lg-3 text-left p-0 ${getErrorClassName(\"subway\")}`}> </h4>\n                    <Select className={\"col-lg-4 p-0\"} onBlurHandler={() => setIsValidFormReducer(\"subway\")}\n                        onChangeHandlerSelectItem={(selectItem: any, handler: any) => selectItemOnChangeHandler(\"subway\", selectItem, handler)}\n                        value={subway.value.label} selectItems={subwayStationsData} placeHolder={\" \"}/>\n                </div>\n                <hr className=\"my-4\"/>\n\n                <div className=\"createAnnouncement__contacts d-flex\">\n                    <h4 className=\"createAnnouncement__contacts-title col-lg-3 text-left p-0\"></h4>\n                    <TextInput className={\"col-lg-3 p-0\"} isValid={phone.isValid} value={phone.value}\n                               placeholder={\" \"} label={\"\"} inputType={\"number\"}\n                               onBlurHandler={() => setIsValidFormReducer(\"phone\")}\n                               onChangeHandler={(event: ChangeEvent<HTMLInputElement>) => onChangeHandler(event, \"phone\")}/>\n                </div>\n                <hr className=\"my-4\"/>\n                <div className={\"d-flex justify-content-around mb-5 col-lg-7 p-0\"}>\n                    <Button className={\"btn-success col-lg-7\"} label={\" \"} isDisabled={isFetching} onClickHandler={checkIsReadyToSend}/>\n                    <Button className={\"btn-danger col-lg-4\"} label={\" \"} isDisabled={isFetching} onClickHandler={resetToInitialByPageFormReducer}/>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default withAuthRedirectHoc(CreateAnnouncement);\n","export const getAnnouncementsListSelector = (state: any) => state.announcementsListState.announcementsList\r\nexport const getCurrentPageAnnouncementsListReducerSelector = (state: any) => state.announcementsListState.currentPage\r\nexport const getTotalNumOfPagesAnnouncementsListReducerSelector = (state: any) => state.announcementsListState.totalNumOfPages\r\n","import React from \"react\";\r\nimport \"./preloaderStyle.css\";\r\n\r\nconst Preloader = (props: any) => {\r\n    const {className} = props\r\n\r\n    return (\r\n    <span className={`cssload-loader ${className}`}>\r\n        <span className=\"cssload-loader-inner\"/>\r\n    </span>\r\n    )\r\n}\r\n\r\nexport default React.memo(Preloader)","import React, {useEffect, useState} from 'react';\nimport \"./buttonUpStyles.css\"\nimport Button from '../button/button';\n\n\nconst ButtonUp = (props: any) => {\n\n    const [isView, setIsView] = useState(false)\n\n    useEffect(() => {\n        document.addEventListener(\"scroll\", onScrollHandler)\n        return () => document.removeEventListener(\"scroll\", onScrollHandler)\n    }, [])\n\n    const onScrollHandler = (event: Event) => {\n        const currentHeight = Math.ceil(window.innerHeight + window.scrollY)\n        const innerHeight = window.innerHeight\n        currentHeight < innerHeight + 300 ? setIsView(false) : setIsView(true)\n    }\n\n  return isView ?\n      <Button className={\"btn-up btn-primary\"} label={\"\"}\n              onClickHandler={() => window.scrollTo(0,0)} /> : null\n}\n\nexport default ButtonUp;","import React, {useCallback, useEffect, useState} from 'react';\nimport \"./announcementsListPageStyles.css\"\nimport Header from \"../../components/header/header\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport Footer from \"../../components/footer/footer\";\nimport {getAnnouncementsByFiltersThunk, getAnnouncementsListThunk} from \"../../redux/thunks/thunks\";\nimport Announcement from \"../../components/announcement/announcement\";\nimport useInfinityScroll from \"../../hooks/useInfinityScroll\";\nimport Button from \"../../components/button/button\";\nimport {\n    getAnnouncementsListSelector,\n    getCurrentPageAnnouncementsListReducerSelector,\n    getTotalNumOfPagesAnnouncementsListReducerSelector\n} from \"../../redux/reducers/announcementsListState/announcementsListStateSelectors\";\nimport {\n    getCategoriesDataSelector,\n    getIsFetchingMainStateSelector\n} from \"../../redux/reducers/mainState/mainStateSelectors\";\nimport {setCurrentPageAnnouncementsListReducerAC, resetToInitialStateAnnouncementsListReducerAC} from \"../../redux/reducers/announcementsListState/announcementsListStateActionCreators\";\nimport {useHistory, NavLink} from 'react-router-dom';\nimport {\n    getSearchedDataSelector,\n    getIsFetchingSearchReducerSelector,\n    getCurrentPageSearchReducerSelector,\n    getTotalNumOfPageSearchReducerSelector\n} from \"../../redux/reducers/searchBoxState/searchBoxStateSelectors\";\nimport SearchBox from \"../../components/searchBox/searchBox\";\nimport {\n    resetToInitialStateSearchReducerAC,\n    setCurrentPageSearchReducerAC\n} from '../../redux/reducers/searchBoxState/searchBoxStateActionCreators';\nimport Preloader from \"../../components/preloader/preloader\";\nimport ButtonUp from \"../../components/buttonUp/buttonUp\";\n\n\nconst AnnouncementsListPage = (props: any) => {\n\n    //------USE-HISTORY-----//\n    const {location : {pathname}} = useHistory()\n    const category = pathname.substr(1)\n\n    //------MAP-STATE-TO-PROPS-----//\n    const categoriesData = useSelector(getCategoriesDataSelector)\n        //---SEARCHED-BOX-STATE---//\n    const searchedData = useSelector(getSearchedDataSelector)\n    const isFetchingSearchState = useSelector(getIsFetchingSearchReducerSelector)\n    const currentPageSearch = useSelector(getCurrentPageSearchReducerSelector)\n    const totalNumOfPageSearch = useSelector(getTotalNumOfPageSearchReducerSelector)\n    const isEqualsCurrAndTotalPageSearch = currentPageSearch === totalNumOfPageSearch\n        //----------------------//\n    const isSearchState = searchedData.length || isFetchingSearchState\n    //---ANNOUNCEMENTS-LIST-STATE---//\n    const announcementsList = useSelector(getAnnouncementsListSelector)\n    const isFetchingMainState = useSelector(getIsFetchingMainStateSelector)\n    const currentPage = useSelector(getCurrentPageAnnouncementsListReducerSelector)\n    const totalNumOfPages = useSelector(getTotalNumOfPagesAnnouncementsListReducerSelector)\n    const isEqualsCurrAndTotalPage = currentPage === totalNumOfPages\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getAnnouncements = useCallback((category, withConcat = false) => dispatch(getAnnouncementsListThunk(category, withConcat)), [dispatch])\n    const getAnnouncementsByFilters = useCallback(() => dispatch(getAnnouncementsByFiltersThunk(true)), [dispatch])\n    const setCurrentPage = useCallback(() => dispatch(setCurrentPageAnnouncementsListReducerAC()), [dispatch])\n    const setCurrentPageSearchBox = useCallback(() => dispatch(setCurrentPageSearchReducerAC()), [dispatch])\n    const resetToInitialStateAnnouncementsList = useCallback(() => dispatch(resetToInitialStateAnnouncementsListReducerAC()), [dispatch])\n    const resetToInitialStateSearchReducer = useCallback(() => dispatch(resetToInitialStateSearchReducerAC()), [dispatch])\n\n    //---GET-ACTIONS---//\n    const getDataAction: () => Function = () => isSearchState ? getAnnouncementsByFilters : getAnnouncements\n    const getDataState: () => Array<any> = () => isSearchState ? searchedData : announcementsList\n    const getSetCurrentPageAction: () => Function = () => isSearchState ? setCurrentPageSearchBox : setCurrentPage\n    const getIsEqualsCurrAndTotalPage: () => boolean = () => isSearchState ? isEqualsCurrAndTotalPageSearch : isEqualsCurrAndTotalPage\n\n    //----COMPONENT-DID-MOUNT/UNMOUNT-LIFECYCLE----//\n    useEffect(() => {\n        getAnnouncements(category)\n        return () => {\n            resetToInitialStateAnnouncementsList()\n            resetToInitialStateSearchReducer()\n        }\n    }, [])\n\n    //----COMPONENT-DID-UPDATE-LIFECYCLE----//\n    useEffect(() => {\n        resetToInitialStateAnnouncementsList()\n        getAnnouncements(category)\n    }, [category])\n\n    //------INFINITY-SCROLL------//\n    const infinityScrollHandler = () => (event: any) => {\n        if(!getIsEqualsCurrAndTotalPage()) {\n            getSetCurrentPageAction()()\n            getDataAction()(category, true)\n        }\n    }\n    useInfinityScroll(infinityScrollHandler())\n\n    return (\n        <div className={\"announcementsList fullHeightContent\"}>\n            <Header/>\n            <SearchBox className={\"mt-4\"} placeHolder={\"  \"}/>\n            <div className=\"announcementsList__slider-container d-flex container-fluid pt-5 pb-5\">\n                <div className=\"slider-container__slider col-lg-2 p-0\">\n                    <hr className={\"my-0 mb-4\"}/>\n                    {categoriesData.map( ({id, label, category}: any) => {\n                        return <NavLink className={\"slider__category-item\"} activeClassName={\"navLink__active\"} to={`/${category}`}>\n                            <h4>{label}</h4>\n                        </NavLink>\n                    } ) }\n                    <hr className={\"my-0 mt-4\"}/>\n                </div>\n                <div className=\"slider-container__content col-lg-8\">\n                    {getDataState().map( ({id, ...restMyAnnouncement}: any) =>\n                        <div key={id} className=\"announcementsList__item\">\n                            <Announcement className={\"horizontalCard\"} id={id} {...restMyAnnouncement}/>\n                        </div>) }\n                    <ButtonUp/>\n                    {isFetchingSearchState || isFetchingMainState && <Preloader/>}\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    );\n}\n\nexport default AnnouncementsListPage;\n","import React, {useCallback, useEffect} from 'react';\nimport \"./appStyles.css\"\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport FeedPage from \"../pages/feedPage/feedPage\";\nimport ContactsPage from \"../pages/contactsPage/contactsPage\";\nimport SettingsPage from \"../pages/settingsPage/settingsPage\";\nimport AnnouncementPage from '../pages/announcementPage/announcementPage';\nimport MyAnnouncementsPage from \"../pages/myAnnouncementsPage/myAnnouncementsPage\";\nimport CreateAnnouncement from \"../pages/createAnnouncement/createAnnouncement\";\n\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getSubwayStationsThunk, getUserInfoThunk} from \"../redux/thunks/thunks\";\nimport AnnouncementsListPage from \"../pages/announcementsListPage/announcementsListPage\";\nimport {getCategoriesDataSelector} from \"../redux/reducers/mainState/mainStateSelectors\";\n\nexport const PATH_FEED = \"/feed\"\nexport const PATH_MY_ANNOUNCEMENTS = \"/myAnnouncements\"\nexport const PATH_CREATE_ANNOUNCEMENT = \"/createAnnouncement\"\nexport const PATH_SETTINGS = \"/settings\"\nexport const PATH_JOB = \"/job\"\nexport const PATH_HOUSING = \"/housing\"\nexport const PATH_CONTACTS = \"/contacts\"\n\nconst App = () => {\n\n    //------MAP-STATE-TO-PROPS-----//\n    const categoriesData = useSelector(getCategoriesDataSelector)\n\n    //-----MAP-DISPATCH-TO-PROPS----//\n    const dispatch = useDispatch()\n    const getSubwayStations = useCallback(() => dispatch(getSubwayStationsThunk()), [dispatch])\n    const getUserData = useCallback(() => dispatch(getUserInfoThunk()), [dispatch])\n\n    useEffect(() => {\n        getSubwayStations()\n        getUserData()\n    }, [])\n\n    return (\n    <div className=\"App bg-light\">\n        <Switch>\n            <Route exact path={PATH_CREATE_ANNOUNCEMENT} component={CreateAnnouncement}/>\n            <Route exact path={PATH_FEED} component={FeedPage}/>\n            <Route exact path={PATH_MY_ANNOUNCEMENTS} component={MyAnnouncementsPage}/>\n            <Route exact path={PATH_SETTINGS} component={SettingsPage}/>\n            <Route exact path={PATH_CONTACTS} component={ContactsPage}/>\n            {categoriesData.map( ({category}:any) => <Route exact path={`/${category}`} component={AnnouncementsListPage}/>)}\n            {categoriesData.map( ({category}:any) =>  <Route exact path={`/${category}/:id`} component={AnnouncementPage}/>)}\n            <Redirect to={PATH_FEED}/>\n        </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\n\r\nimport thunkMiddleWare from \"redux-thunk\";\r\n\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router'\r\nimport { createBrowserHistory } from 'history'\r\nimport {mainStateReducer} from \"./reducers/mainState/mainState\";\r\nimport { authorizationStateReducer } from \"./reducers/authorizationState/authorizationState\";\r\nimport {searchBoxStateReducer} from \"./reducers/searchBoxState/searchBoxState\";\r\nimport {feedStateReducer} from \"./reducers/feedState/feedState\";\r\nimport { settingsStateReducer } from \"./reducers/settingsState/settingsState\";\r\nimport {announcementStateReducer} from \"./reducers/announcementState/announcementState\";\r\nimport {myAnnouncementsStateReducer} from \"./reducers/myAnnouncementState/myAnnouncementState\";\r\nimport {announcementsListStateReducer} from \"./reducers/announcementsListState/announcementsListState\";\r\nimport formStateReducer from \"./reducers/formState/formState\";\r\n\r\nexport const history = createBrowserHistory()\r\n\r\nconst reducers = () => combineReducers({\r\n    router: connectRouter(history),\r\n    mainState: mainStateReducer,\r\n    announcementsListState: announcementsListStateReducer,\r\n    formState: formStateReducer,\r\n    feedState: feedStateReducer,\r\n    searchBoxState: searchBoxStateReducer,\r\n    announcementState: announcementStateReducer,\r\n    myAnnouncementsState: myAnnouncementsStateReducer,\r\n    settingsState: settingsStateReducer,\r\n    authorizationState: authorizationStateReducer\r\n})\r\n\r\ntype rootReducerType = typeof reducers\r\nexport type AppStateType = ReturnType<rootReducerType>\r\n\r\nconst store = createStore(reducers(), applyMiddleware(routerMiddleware(history), thunkMiddleWare))\r\n\r\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./app/App\";\n\nimport { ConnectedRouter } from \"connected-react-router\"\nimport { Provider } from \"react-redux\"\n\nimport store, {history} from \"./redux/store\"\n\n(window as any).store = store\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <ConnectedRouter history={history}>\n                <App/>\n            </ConnectedRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n)"],"sourceRoot":""}